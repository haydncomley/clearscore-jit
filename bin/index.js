#! /usr/bin/env node
var Zd=Object.create;var fn=Object.defineProperty;var ef=Object.getOwnPropertyDescriptor;var tf=Object.getOwnPropertyNames;var rf=Object.getPrototypeOf,sf=Object.prototype.hasOwnProperty;var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nf=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tf(e))!sf.call(t,i)&&i!==r&&fn(t,i,{get:()=>e[i],enumerable:!(s=ef(e,i))||s.enumerable});return t};var fe=(t,e,r)=>(r=t!=null?Zd(rf(t)):{},nf(e||!t||!t.__esModule?fn(r,"default",{value:t,enumerable:!0}):r,t));var vn=d((Ev,yn)=>{"use strict";yn.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Qr=d((Pv,kn)=>{var xt=vn(),wn={};for(let t of Object.keys(xt))wn[xt[t]]=t;var b={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};kn.exports=b;for(let t of Object.keys(b)){if(!("channels"in b[t]))throw new Error("missing channels property: "+t);if(!("labels"in b[t]))throw new Error("missing channel labels property: "+t);if(b[t].labels.length!==b[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=b[t];delete b[t].channels,delete b[t].labels,Object.defineProperty(b[t],"channels",{value:e}),Object.defineProperty(b[t],"labels",{value:r})}b.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,s=t[2]/255,i=Math.min(e,r,s),n=Math.max(e,r,s),o=n-i,a,u;n===i?a=0:e===n?a=(r-s)/o:r===n?a=2+(s-e)/o:s===n&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+n)/2;return n===i?u=0:c<=.5?u=o/(n+i):u=o/(2-n-i),[a,u*100,c*100]};b.rgb.hsv=function(t){let e,r,s,i,n,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),h=c-Math.min(o,a,u),l=function(p){return(c-p)/6/h+1/2};return h===0?(i=0,n=0):(n=h/c,e=l(o),r=l(a),s=l(u),o===c?i=s-r:a===c?i=1/3+e-s:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,n*100,c*100]};b.rgb.hwb=function(t){let e=t[0],r=t[1],s=t[2],i=b.rgb.hsl(t)[0],n=1/255*Math.min(e,Math.min(r,s));return s=1-1/255*Math.max(e,Math.max(r,s)),[i,n*100,s*100]};b.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,s=t[2]/255,i=Math.min(1-e,1-r,1-s),n=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-s-i)/(1-i)||0;return[n*100,o*100,a*100,i*100]};function af(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}b.rgb.keyword=function(t){let e=wn[t];if(e)return e;let r=1/0,s;for(let i of Object.keys(xt)){let n=xt[i],o=af(t,n);o<r&&(r=o,s=i)}return s};b.keyword.rgb=function(t){return xt[t]};b.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,s=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;let i=e*.4124+r*.3576+s*.1805,n=e*.2126+r*.7152+s*.0722,o=e*.0193+r*.1192+s*.9505;return[i*100,n*100,o*100]};b.rgb.lab=function(t){let e=b.rgb.xyz(t),r=e[0],s=e[1],i=e[2];r/=95.047,s/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*s-16,o=500*(r-s),a=200*(s-i);return[n,o,a]};b.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,s=t[2]/100,i,n,o;if(r===0)return o=s*255,[o,o,o];s<.5?i=s*(1+r):i=s+r-s*r;let a=2*s-i,u=[0,0,0];for(let c=0;c<3;c++)n=e+1/3*-(c-1),n<0&&n++,n>1&&n--,6*n<1?o=a+(i-a)*6*n:2*n<1?o=i:3*n<2?o=a+(i-a)*(2/3-n)*6:o=a,u[c]=o*255;return u};b.hsl.hsv=function(t){let e=t[0],r=t[1]/100,s=t[2]/100,i=r,n=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,i*=n<=1?n:2-n;let o=(s+r)/2,a=s===0?2*i/(n+i):2*r/(s+r);return[e,a*100,o*100]};b.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,s=t[2]/100,i=Math.floor(e)%6,n=e-Math.floor(e),o=255*s*(1-r),a=255*s*(1-r*n),u=255*s*(1-r*(1-n));switch(s*=255,i){case 0:return[s,u,o];case 1:return[a,s,o];case 2:return[o,s,u];case 3:return[o,a,s];case 4:return[u,o,s];case 5:return[s,o,a]}};b.hsv.hsl=function(t){let e=t[0],r=t[1]/100,s=t[2]/100,i=Math.max(s,.01),n,o;o=(2-r)*s;let a=(2-r)*i;return n=r*i,n/=a<=1?a:2-a,n=n||0,o/=2,[e,n*100,o*100]};b.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,s=t[2]/100,i=r+s,n;i>1&&(r/=i,s/=i);let o=Math.floor(6*e),a=1-s;n=6*e-o,o&1&&(n=1-n);let u=r+n*(a-r),c,h,l;switch(o){default:case 6:case 0:c=a,h=u,l=r;break;case 1:c=u,h=a,l=r;break;case 2:c=r,h=a,l=u;break;case 3:c=r,h=u,l=a;break;case 4:c=u,h=r,l=a;break;case 5:c=a,h=r,l=u;break}return[c*255,h*255,l*255]};b.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,s=t[2]/100,i=t[3]/100,n=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,s*(1-i)+i);return[n*255,o*255,a*255]};b.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,s=t[2]/100,i,n,o;return i=e*3.2406+r*-1.5372+s*-.4986,n=e*-.9689+r*1.8758+s*.0415,o=e*.0557+r*-.204+s*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),[i*255,n*255,o*255]};b.xyz.lab=function(t){let e=t[0],r=t[1],s=t[2];e/=95.047,r/=100,s/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let i=116*r-16,n=500*(e-r),o=200*(r-s);return[i,n,o]};b.lab.xyz=function(t){let e=t[0],r=t[1],s=t[2],i,n,o;n=(e+16)/116,i=r/500+n,o=n-s/200;let a=n**3,u=i**3,c=o**3;return n=a>.008856?a:(n-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,n*=100,o*=108.883,[i,n,o]};b.lab.lch=function(t){let e=t[0],r=t[1],s=t[2],i;i=Math.atan2(s,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+s*s);return[e,o,i]};b.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,n=r*Math.cos(i),o=r*Math.sin(i);return[e,n,o]};b.rgb.ansi16=function(t,e=null){let[r,s,i]=t,n=e===null?b.rgb.hsv(t)[2]:e;if(n=Math.round(n/50),n===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return n===2&&(o+=60),o};b.hsv.ansi16=function(t){return b.rgb.ansi16(b.hsv.rgb(t),t[2])};b.rgb.ansi256=function(t){let e=t[0],r=t[1],s=t[2];return e===r&&r===s?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)};b.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,s=(e&1)*r*255,i=(e>>1&1)*r*255,n=(e>>2&1)*r*255;return[s,i,n]};b.ansi256.rgb=function(t){if(t>=232){let n=(t-232)*10+8;return[n,n,n]}t-=16;let e,r=Math.floor(t/36)/5*255,s=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,s,i]};b.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};b.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let s=parseInt(r,16),i=s>>16&255,n=s>>8&255,o=s&255;return[i,n,o]};b.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,s=t[2]/255,i=Math.max(Math.max(e,r),s),n=Math.min(Math.min(e,r),s),o=i-n,a,u;return o<1?a=n/(1-o):a=0,o<=0?u=0:i===e?u=(r-s)/o%6:i===r?u=2+(s-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};b.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,s=r<.5?2*e*r:2*e*(1-r),i=0;return s<1&&(i=(r-.5*s)/(1-s)),[t[0],s*100,i*100]};b.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,s=e*r,i=0;return s<1&&(i=(r-s)/(1-s)),[t[0],s*100,i*100]};b.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,s=t[2]/100;if(r===0)return[s*255,s*255,s*255];let i=[0,0,0],n=e%1*6,o=n%1,a=1-o,u=0;switch(Math.floor(n)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*s,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};b.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,s=e+r*(1-e),i=0;return s>0&&(i=e/s),[t[0],i*100,s*100]};b.hcg.hsl=function(t){let e=t[1]/100,s=t[2]/100*(1-e)+.5*e,i=0;return s>0&&s<.5?i=e/(2*s):s>=.5&&s<1&&(i=e/(2*(1-s))),[t[0],i*100,s*100]};b.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,s=e+r*(1-e);return[t[0],(s-e)*100,(1-s)*100]};b.hwb.hcg=function(t){let e=t[1]/100,s=1-t[2]/100,i=s-e,n=0;return i<1&&(n=(s-i)/(1-i)),[t[0],i*100,n*100]};b.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};b.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};b.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};b.gray.hsl=function(t){return[0,0,t[0]]};b.gray.hsv=b.gray.hsl;b.gray.hwb=function(t){return[0,100,t[0]]};b.gray.cmyk=function(t){return[0,0,0,t[0]]};b.gray.lab=function(t){return[t[0],0,0]};b.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,s=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(s.length)+s};b.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var _n=d((Rv,xn)=>{var Wt=Qr();function uf(){let t={},e=Object.keys(Wt);for(let r=e.length,s=0;s<r;s++)t[e[s]]={distance:-1,parent:null};return t}function cf(t){let e=uf(),r=[t];for(e[t].distance=0;r.length;){let s=r.pop(),i=Object.keys(Wt[s]);for(let n=i.length,o=0;o<n;o++){let a=i[o],u=e[a];u.distance===-1&&(u.distance=e[s].distance+1,u.parent=s,r.unshift(a))}}return e}function lf(t,e){return function(r){return e(t(r))}}function hf(t,e){let r=[e[t].parent,t],s=Wt[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),s=lf(Wt[e[i].parent][i],s),i=e[i].parent;return s.conversion=r,s}xn.exports=function(t){let e=cf(t),r={},s=Object.keys(e);for(let i=s.length,n=0;n<i;n++){let o=s[n];e[o].parent!==null&&(r[o]=hf(o,e))}return r}});var Sn=d(($v,Tn)=>{var Kr=Qr(),df=_n(),et={},ff=Object.keys(Kr);function pf(t){let e=function(...r){let s=r[0];return s==null?s:(s.length>1&&(r=s),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function mf(t){let e=function(...r){let s=r[0];if(s==null)return s;s.length>1&&(r=s);let i=t(r);if(typeof i=="object")for(let n=i.length,o=0;o<n;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}ff.forEach(t=>{et[t]={},Object.defineProperty(et[t],"channels",{value:Kr[t].channels}),Object.defineProperty(et[t],"labels",{value:Kr[t].labels});let e=df(t);Object.keys(e).forEach(s=>{let i=e[s];et[t][s]=mf(i),et[t][s].raw=pf(i)})});Tn.exports=et});var Rn=d((Av,Pn)=>{"use strict";var Cn=(t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,On=(t,e)=>(...r)=>{let s=t(...r);return`\x1B[${38+e};5;${s}m`},Mn=(t,e)=>(...r)=>{let s=t(...r);return`\x1B[${38+e};2;${s[0]};${s[1]};${s[2]}m`},Qt=t=>t,En=(t,e,r)=>[t,e,r],tt=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let s=r();return Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0}),s},enumerable:!0,configurable:!0})},Xr,rt=(t,e,r,s)=>{Xr===void 0&&(Xr=Sn());let i=s?10:0,n={};for(let[o,a]of Object.entries(Xr)){let u=o==="ansi16"?"ansi":o;o===e?n[u]=t(r,i):typeof a=="object"&&(n[u]=t(a[e],i))}return n};function gf(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,s]of Object.entries(e)){for(let[i,n]of Object.entries(s))e[i]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},s[i]=e[i],t.set(n[0],n[1]);Object.defineProperty(e,r,{value:s,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",tt(e.color,"ansi",()=>rt(Cn,"ansi16",Qt,!1)),tt(e.color,"ansi256",()=>rt(On,"ansi256",Qt,!1)),tt(e.color,"ansi16m",()=>rt(Mn,"rgb",En,!1)),tt(e.bgColor,"ansi",()=>rt(Cn,"ansi16",Qt,!0)),tt(e.bgColor,"ansi256",()=>rt(On,"ansi256",Qt,!0)),tt(e.bgColor,"ansi16m",()=>rt(Mn,"rgb",En,!0)),e}Object.defineProperty(Pn,"exports",{enumerable:!0,get:gf})});var An=d((Iv,$n)=>{"use strict";$n.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",s=e.indexOf(r+t),i=e.indexOf("--");return s!==-1&&(i===-1||s<i)}});var ts=d((qv,qn)=>{"use strict";var bf=require("os"),In=require("tty"),ce=An(),{env:j}=process,je;ce("no-color")||ce("no-colors")||ce("color=false")||ce("color=never")?je=0:(ce("color")||ce("colors")||ce("color=true")||ce("color=always"))&&(je=1);"FORCE_COLOR"in j&&(j.FORCE_COLOR==="true"?je=1:j.FORCE_COLOR==="false"?je=0:je=j.FORCE_COLOR.length===0?1:Math.min(parseInt(j.FORCE_COLOR,10),3));function Zr(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function es(t,e){if(je===0)return 0;if(ce("color=16m")||ce("color=full")||ce("color=truecolor"))return 3;if(ce("color=256"))return 2;if(t&&!e&&je===void 0)return 0;let r=je||0;if(j.TERM==="dumb")return r;if(process.platform==="win32"){let s=bf.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in j)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in j)||j.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in j)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(j.TEAMCITY_VERSION)?1:0;if(j.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in j){let s=parseInt((j.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(j.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(j.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(j.TERM)||"COLORTERM"in j?1:r}function yf(t){let e=es(t,t&&t.isTTY);return Zr(e)}qn.exports={supportsColor:yf,stdout:Zr(es(!0,In.isatty(1))),stderr:Zr(es(!0,In.isatty(2)))}});var Dn=d((Fv,Fn)=>{"use strict";var vf=(t,e,r)=>{let s=t.indexOf(e);if(s===-1)return t;let i=e.length,n=0,o="";do o+=t.substr(n,s-n)+e+r,n=s+i,s=t.indexOf(e,n);while(s!==-1);return o+=t.substr(n),o},wf=(t,e,r,s)=>{let i=0,n="";do{let o=t[s-1]==="\r";n+=t.substr(i,(o?s-1:s)-i)+e+(o?`\r
`:`
`)+r,i=s+1,s=t.indexOf(`
`,i)}while(s!==-1);return n+=t.substr(i),n};Fn.exports={stringReplaceAll:vf,stringEncaseCRLFWithFirstIndex:wf}});var Gn=d((Dv,Nn)=>{"use strict";var kf=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,jn=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,xf=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,_f=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Tf=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Bn(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):Tf.get(t)||t}function Sf(t,e){let r=[],s=e.trim().split(/\s*,\s*/g),i;for(let n of s){let o=Number(n);if(!Number.isNaN(o))r.push(o);else if(i=n.match(xf))r.push(i[2].replace(_f,(a,u,c)=>u?Bn(u):c));else throw new Error(`Invalid Chalk template style argument: ${n} (in style '${t}')`)}return r}function Cf(t){jn.lastIndex=0;let e=[],r;for(;(r=jn.exec(t))!==null;){let s=r[1];if(r[2]){let i=Sf(s,r[2]);e.push([s].concat(i))}else e.push([s])}return e}function Ln(t,e){let r={};for(let i of e)for(let n of i.styles)r[n[0]]=i.inverse?null:n.slice(1);let s=t;for(let[i,n]of Object.entries(r))if(Array.isArray(n)){if(!(i in s))throw new Error(`Unknown Chalk style: ${i}`);s=n.length>0?s[i](...n):s[i]}return s}Nn.exports=(t,e)=>{let r=[],s=[],i=[];if(e.replace(kf,(n,o,a,u,c,h)=>{if(o)i.push(Bn(o));else if(u){let l=i.join("");i=[],s.push(r.length===0?l:Ln(t,r)(l)),r.push({inverse:a,styles:Cf(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");s.push(Ln(t,r)(i.join(""))),i=[],r.pop()}else i.push(h)}),s.push(i.join("")),r.length>0){let n=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(n)}return s.join("")}});var Tt=d((jv,Jn)=>{"use strict";var _t=Rn(),{stdout:ss,stderr:is}=ts(),{stringReplaceAll:Of,stringEncaseCRLFWithFirstIndex:Mf}=Dn(),{isArray:Kt}=Array,Hn=["ansi","ansi","ansi256","ansi16m"],st=Object.create(null),Ef=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=ss?ss.level:0;t.level=e.level===void 0?r:e.level},ns=class{constructor(e){return Yn(e)}},Yn=t=>{let e={};return Ef(e,t),e.template=(...r)=>zn(e.template,...r),Object.setPrototypeOf(e,Xt.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=ns,e.template};function Xt(t){return Yn(t)}for(let[t,e]of Object.entries(_t))st[t]={get(){let r=Zt(this,os(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};st.visible={get(){let t=Zt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var Vn=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of Vn)st[t]={get(){let{level:e}=this;return function(...r){let s=os(_t.color[Hn[e]][t](...r),_t.color.close,this._styler);return Zt(this,s,this._isEmpty)}}};for(let t of Vn){let e="bg"+t[0].toUpperCase()+t.slice(1);st[e]={get(){let{level:r}=this;return function(...s){let i=os(_t.bgColor[Hn[r]][t](...s),_t.bgColor.close,this._styler);return Zt(this,i,this._isEmpty)}}}}var Pf=Object.defineProperties(()=>{},{...st,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),os=(t,e,r)=>{let s,i;return r===void 0?(s=t,i=e):(s=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:s,closeAll:i,parent:r}},Zt=(t,e,r)=>{let s=(...i)=>Kt(i[0])&&Kt(i[0].raw)?Un(s,zn(s,...i)):Un(s,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(s,Pf),s._generator=t,s._styler=e,s._isEmpty=r,s},Un=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:s,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=Of(e,r.close,r.open),r=r.parent;let n=e.indexOf(`
`);return n!==-1&&(e=Mf(e,i,s,n)),s+e+i},rs,zn=(t,...e)=>{let[r]=e;if(!Kt(r)||!Kt(r.raw))return e.join(" ");let s=e.slice(1),i=[r.raw[0]];for(let n=1;n<r.length;n++)i.push(String(s[n-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[n]));return rs===void 0&&(rs=Gn()),rs(t,i.join(""))};Object.defineProperties(Xt.prototype,st);var er=Xt();er.supportsColor=ss;er.stderr=Xt({level:is?is.level:0});er.stderr.supportsColor=is;Jn.exports=er});var E=d((Lv,Qn)=>{"use strict";var{FORCE_COLOR:Rf,NODE_DISABLE_COLORS:$f,TERM:Af}=process.env,T={enabled:!$f&&Af!=="dumb"&&Rf!=="0",reset:C(0,0),bold:C(1,22),dim:C(2,22),italic:C(3,23),underline:C(4,24),inverse:C(7,27),hidden:C(8,28),strikethrough:C(9,29),black:C(30,39),red:C(31,39),green:C(32,39),yellow:C(33,39),blue:C(34,39),magenta:C(35,39),cyan:C(36,39),white:C(37,39),gray:C(90,39),grey:C(90,39),bgBlack:C(40,49),bgRed:C(41,49),bgGreen:C(42,49),bgYellow:C(43,49),bgBlue:C(44,49),bgMagenta:C(45,49),bgCyan:C(46,49),bgWhite:C(47,49)};function Wn(t,e){let r=0,s,i="",n="";for(;r<t.length;r++)s=t[r],i+=s.open,n+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return i+e+n}function If(t,e){let r={has:t,keys:e};return r.reset=T.reset.bind(r),r.bold=T.bold.bind(r),r.dim=T.dim.bind(r),r.italic=T.italic.bind(r),r.underline=T.underline.bind(r),r.inverse=T.inverse.bind(r),r.hidden=T.hidden.bind(r),r.strikethrough=T.strikethrough.bind(r),r.black=T.black.bind(r),r.red=T.red.bind(r),r.green=T.green.bind(r),r.yellow=T.yellow.bind(r),r.blue=T.blue.bind(r),r.magenta=T.magenta.bind(r),r.cyan=T.cyan.bind(r),r.white=T.white.bind(r),r.gray=T.gray.bind(r),r.grey=T.grey.bind(r),r.bgBlack=T.bgBlack.bind(r),r.bgRed=T.bgRed.bind(r),r.bgGreen=T.bgGreen.bind(r),r.bgYellow=T.bgYellow.bind(r),r.bgBlue=T.bgBlue.bind(r),r.bgMagenta=T.bgMagenta.bind(r),r.bgCyan=T.bgCyan.bind(r),r.bgWhite=T.bgWhite.bind(r),r}function C(t,e){let r={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),s===void 0?this:T.enabled?Wn(this.keys,s+""):s+""):s===void 0?If([t],[r]):T.enabled?Wn([r],s+""):s+""}}Qn.exports=T});var Xn=d((Bv,Kn)=>{"use strict";Kn.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var tr=d((Nv,Zn)=>{"use strict";Zn.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var R=d((Gv,eo)=>{"use strict";var as="\x1B",P=`${as}[`,qf="\x07",us={to(t,e){return e?`${P}${e+1};${t+1}H`:`${P}${t+1}G`},move(t,e){let r="";return t<0?r+=`${P}${-t}D`:t>0&&(r+=`${P}${t}C`),e<0?r+=`${P}${-e}A`:e>0&&(r+=`${P}${e}B`),r},up:(t=1)=>`${P}${t}A`,down:(t=1)=>`${P}${t}B`,forward:(t=1)=>`${P}${t}C`,backward:(t=1)=>`${P}${t}D`,nextLine:(t=1)=>`${P}E`.repeat(t),prevLine:(t=1)=>`${P}F`.repeat(t),left:`${P}G`,hide:`${P}?25l`,show:`${P}?25h`,save:`${as}7`,restore:`${as}8`},Ff={up:(t=1)=>`${P}S`.repeat(t),down:(t=1)=>`${P}T`.repeat(t)},Df={screen:`${P}2J`,up:(t=1)=>`${P}1J`.repeat(t),down:(t=1)=>`${P}J`.repeat(t),line:`${P}2K`,lineEnd:`${P}K`,lineStart:`${P}1K`,lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?us.up():"");return t&&(e+=us.left),e}};eo.exports={cursor:us,scroll:Ff,erase:Df,beep:qf}});var no=d((Uv,io)=>{"use strict";function jf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Lf(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return n=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function Lf(t,e){if(t){if(typeof t=="string")return to(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return to(t,e)}}function to(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var Bf=tr(),so=R(),ro=so.erase,Nf=so.cursor,Gf=t=>[...Bf(t)].length;io.exports=function(t,e){if(!e)return ro.line+Nf.to(0);let r=0,s=t.split(/\r?\n/);var i=jf(s),n;try{for(i.s();!(n=i.n()).done;){let o=n.value;r+=1+Math.floor(Math.max(Gf(o)-1,0)/e)}}catch(o){i.e(o)}finally{i.f()}return ro.lines(r)}});var cs=d((Hv,oo)=>{"use strict";var St={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Uf={arrowUp:St.arrowUp,arrowDown:St.arrowDown,arrowLeft:St.arrowLeft,arrowRight:St.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Hf=process.platform==="win32"?Uf:St;oo.exports=Hf});var uo=d((Yv,ao)=>{"use strict";var it=E(),ze=cs(),ls=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),Yf=t=>ls[t]||ls.default,Ct=Object.freeze({aborted:it.red(ze.cross),done:it.green(ze.tick),exited:it.yellow(ze.cross),default:it.cyan("?")}),Vf=(t,e,r)=>e?Ct.aborted:r?Ct.exited:t?Ct.done:Ct.default,zf=t=>it.gray(t?ze.ellipsis:ze.pointerSmall),Jf=(t,e)=>it.gray(t?e?ze.pointerSmall:"+":ze.line);ao.exports={styles:ls,render:Yf,symbols:Ct,symbol:Vf,delimiter:zf,item:Jf}});var lo=d((Vv,co)=>{"use strict";var Wf=tr();co.exports=function(t,e){let r=String(Wf(t)||"").split(/\r?\n/);return e?r.map(s=>Math.ceil(s.length/e)).reduce((s,i)=>s+i):r.length}});var fo=d((zv,ho)=>{"use strict";ho.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((n,o)=>(o.length+r.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${r}${o}`),n),[r]).join(`
`)).join(`
`)}});var mo=d((Jv,po)=>{"use strict";po.exports=(t,e,r)=>{r=r||e;let s=Math.min(e-r,t-Math.floor(r/2));s<0&&(s=0);let i=Math.min(s+r,e);return{startIndex:s,endIndex:i}}});var pe=d((Wv,go)=>{"use strict";go.exports={action:Xn(),clear:no(),style:uo(),strip:tr(),figures:cs(),lines:lo(),wrap:fo(),entriesToDisplay:mo()}});var Ee=d((Qv,vo)=>{"use strict";var bo=require("readline"),Qf=pe(),Kf=Qf.action,Xf=require("events"),yo=R(),Zf=yo.beep,ep=yo.cursor,tp=E(),hs=class extends Xf{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=bo.createInterface({input:this.in,escapeCodeTimeout:50});bo.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(n,o)=>{let a=Kf(o,s);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(ep.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Zf)}render(){this.onRender(tp),this.firstRender&&(this.firstRender=!1)}};vo.exports=hs});var To=d((Kv,_o)=>{"use strict";function wo(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(s,i)}function ko(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){wo(n,s,i,o,a,"next",u)}function a(u){wo(n,s,i,o,a,"throw",u)}o(void 0)})}}var rr=E(),rp=Ee(),xo=R(),sp=xo.erase,Ot=xo.cursor,sr=pe(),ds=sr.style,fs=sr.clear,ip=sr.lines,np=sr.figures,ps=class extends rp{constructor(e={}){super(e),this.transform=ds.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=fs("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=rr.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ko(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return ko(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ot.down(ip(this.outputError,this.out.columns)-1)+fs(this.outputError,this.out.columns)),this.out.write(fs(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ds.symbol(this.done,this.aborted),rr.bold(this.msg),ds.delimiter(this.done),this.red?rr.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":np.pointerSmall} ${rr.red().italic(r)}`,"")),this.out.write(sp.line+Ot.to(0)+this.outputText+Ot.save+this.outputError+Ot.restore+Ot.move(this.cursorOffset,0)))}};_o.exports=ps});var Mo=d((Xv,Oo)=>{"use strict";var Pe=E(),op=Ee(),Mt=pe(),So=Mt.style,Co=Mt.clear,ir=Mt.figures,ap=Mt.wrap,up=Mt.entriesToDisplay,cp=R(),lp=cp.cursor,ms=class extends op{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?s:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Co("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(lp.hide):this.out.write(Co(this.outputText,this.out.columns)),super.render();let e=up(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,s=e.endIndex;if(this.outputText=[So.symbol(this.done,this.aborted),Pe.bold(this.msg),So.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Pe.yellow(this.warn):Pe.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=r;i<s;i++){let n,o,a="",u=this.choices[i];i===r&&r>0?o=ir.arrowUp:i===s-1&&s<this.choices.length?o=ir.arrowDown:o=" ",u.disabled?(n=this.cursor===i?Pe.gray().underline(u.title):Pe.strikethrough().gray(u.title),o=(this.cursor===i?Pe.bold().gray(ir.pointer)+" ":"  ")+o):(n=this.cursor===i?Pe.cyan().underline(u.title):u.title,o=(this.cursor===i?Pe.cyan(ir.pointer)+" ":"  ")+o,u.description&&this.cursor===i&&(a=` - ${u.description}`,(o.length+n.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a=`
`+ap(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${Pe.gray(a)}
`}}this.out.write(this.outputText)}};Oo.exports=ms});var Io=d((Zv,Ao)=>{"use strict";var nr=E(),hp=Ee(),Ro=pe(),Eo=Ro.style,dp=Ro.clear,$o=R(),Po=$o.cursor,fp=$o.erase,gs=class extends hp{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Po.hide):this.out.write(dp(this.outputText,this.out.columns)),super.render(),this.outputText=[Eo.symbol(this.done,this.aborted),nr.bold(this.msg),Eo.delimiter(this.done),this.value?this.inactive:nr.cyan().underline(this.inactive),nr.gray("/"),this.value?nr.cyan().underline(this.active):this.active].join(" "),this.out.write(fp.line+Po.to(0)+this.outputText))}};Ao.exports=gs});var ye=d((e1,qo)=>{"use strict";var nt=class{constructor({token:e,date:r,parts:s,locales:i}){this.token=e,this.date=r||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,s)=>s>e&&r instanceof nt)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((s,i)=>i>r&&s instanceof nt)}toString(){return String(this.date)}};qo.exports=nt});var Do=d((t1,Fo)=>{"use strict";var pp=ye(),bs=class extends pp{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Fo.exports=bs});var Lo=d((r1,jo)=>{"use strict";var mp=ye(),gp=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),ys=class extends mp{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+gp(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};jo.exports=ys});var No=d((s1,Bo)=>{"use strict";var bp=ye(),vs=class extends bp{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Bo.exports=vs});var Uo=d((i1,Go)=>{"use strict";var yp=ye(),ws=class extends yp{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Go.exports=ws});var Yo=d((n1,Ho)=>{"use strict";var vp=ye(),ks=class extends vp{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Ho.exports=ks});var zo=d((o1,Vo)=>{"use strict";var wp=ye(),xs=class extends wp{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};Vo.exports=xs});var Wo=d((a1,Jo)=>{"use strict";var kp=ye(),_s=class extends kp{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Jo.exports=_s});var Ko=d((u1,Qo)=>{"use strict";var xp=ye(),Ts=class extends xp{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Qo.exports=Ts});var Zo=d((c1,Xo)=>{"use strict";Xo.exports={DatePart:ye(),Meridiem:Do(),Day:Lo(),Hours:No(),Milliseconds:Uo(),Minutes:Yo(),Month:zo(),Seconds:Wo(),Year:Ko()}});var ca=d((l1,ua)=>{"use strict";function ea(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(s,i)}function ta(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){ea(n,s,i,o,a,"next",u)}function a(u){ea(n,s,i,o,a,"throw",u)}o(void 0)})}}var Ss=E(),_p=Ee(),Os=pe(),ra=Os.style,sa=Os.clear,Tp=Os.figures,aa=R(),Sp=aa.erase,ia=aa.cursor,Re=Zo(),na=Re.DatePart,Cp=Re.Meridiem,Op=Re.Day,Mp=Re.Hours,Ep=Re.Milliseconds,Pp=Re.Minutes,Rp=Re.Month,$p=Re.Seconds,Ap=Re.Year,Ip=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,oa={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Op(t),3:t=>new Rp(t),4:t=>new Ap(t),5:t=>new Cp(t),6:t=>new Mp(t),7:t=>new Pp(t),8:t=>new $p(t),9:t=>new Ep(t)},qp={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Cs=class extends _p{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(qp,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=sa("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=Ip.exec(e);){let i=r.shift(),n=r.findIndex(o=>o!=null);this.parts.push(n in oa?oa[n]({token:r[n]||i,date:this.date,parts:this.parts,locales:this.locales}):r[n]||i)}let s=this.parts.reduce((i,n)=>(typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n),i),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof na)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ta(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return ta(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof na)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(ia.hide):this.out.write(sa(this.outputText,this.out.columns)),super.render(),this.outputText=[ra.symbol(this.done,this.aborted),Ss.bold(this.msg),ra.delimiter(!1),this.parts.reduce((e,r,s)=>e.concat(s===this.cursor&&!this.done?Ss.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Tp.pointerSmall} ${Ss.red().italic(r)}`,"")),this.out.write(Sp.line+ia.to(0)+this.outputText))}};ua.exports=Cs});var ga=d((h1,ma)=>{"use strict";function la(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(s,i)}function ha(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){la(n,s,i,o,a,"next",u)}function a(u){la(n,s,i,o,a,"throw",u)}o(void 0)})}}var or=E(),Fp=Ee(),pa=R(),ar=pa.cursor,Dp=pa.erase,ur=pe(),Ms=ur.style,jp=ur.figures,da=ur.clear,Lp=ur.lines,Bp=/[0-9]/,Es=t=>t!==void 0,fa=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},Ps=class extends Fp{constructor(e={}){super(e),this.transform=Ms.render(e.style),this.msg=e.message,this.initial=Es(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Es(e.min)?e.min:-1/0,this.max=Es(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=or.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${fa(e,this.round)}`),this._value=fa(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Bp.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ha(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return ha(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let r=e.value;e.value=r!==""?r:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ar.down(Lp(this.outputError,this.out.columns)-1)+da(this.outputError,this.out.columns)),this.out.write(da(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ms.symbol(this.done,this.aborted),or.bold(this.msg),Ms.delimiter(this.done),!this.done||!this.done&&!this.placeholder?or[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":jp.pointerSmall} ${or.red().italic(r)}`,"")),this.out.write(Dp.line+ar.to(0)+this.outputText+ar.save+this.outputError+ar.restore))}};ma.exports=Ps});var $s=d((d1,va)=>{"use strict";var ve=E(),Np=R(),Gp=Np.cursor,Up=Ee(),Et=pe(),ba=Et.clear,Le=Et.figures,ya=Et.style,Hp=Et.wrap,Yp=Et.entriesToDisplay,Rs=class extends Up{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?s:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=ba("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Le.arrowUp}/${Le.arrowDown}: Highlight option
    ${Le.arrowLeft}/${Le.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,s,i){let n=(r.selected?ve.green(Le.radioOn):Le.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===s?ve.gray().underline(r.title):ve.strikethrough().gray(r.title):(o=e===s?ve.cyan().underline(r.title):r.title,e===s&&r.description&&(a=` - ${r.description}`,(n.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+Hp(r.description,{margin:n.length,width:this.out.columns})))),n+o+ve.gray(a||"")}paginateOptions(e){if(e.length===0)return ve.red("No matches for this query.");let r=Yp(this.cursor,e.length,this.optionsPerPage),s=r.startIndex,i=r.endIndex,n,o=[];for(let a=s;a<i;a++)a===s&&s>0?n=Le.arrowUp:a===i-1&&i<e.length?n=Le.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[a],a,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[ve.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(ve.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Gp.hide),super.render();let e=[ya.symbol(this.done,this.aborted),ve.bold(this.msg),ya.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ve.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=ba(e,this.out.columns)}};va.exports=Rs});var Ca=d((f1,Sa)=>{"use strict";function wa(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Vp(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){wa(n,s,i,o,a,"next",u)}function a(u){wa(n,s,i,o,a,"throw",u)}o(void 0)})}}var Pt=E(),zp=Ee(),Ta=R(),Jp=Ta.erase,ka=Ta.cursor,Rt=pe(),As=Rt.style,xa=Rt.clear,Is=Rt.figures,Wp=Rt.wrap,Qp=Rt.entriesToDisplay,_a=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Kp=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),Xp=(t,e)=>{let r=t.findIndex(s=>s.value===e||s.title===e);return r>-1?r:void 0},qs=class extends zp{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Xp(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=As.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=xa("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=_a(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var r=this;return Vp(function*(){let s=r.completing=r.suggest(r.input,r.choices),i=yield s;if(r.completing!==s)return;r.suggestions=i.map((o,a,u)=>({title:Kp(u,a),value:_a(u,a),description:o.description})),r.completing=!1;let n=Math.max(i.length-1,0);r.moveSelect(Math.min(n,r.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${e}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,s,i){let n,o=s?Is.arrowUp:i?Is.arrowDown:" ",a=r?Pt.cyan().underline(e.title):e.title;return o=(r?Pt.cyan(Is.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+Wp(e.description,{margin:3,width:this.out.columns}))),o+" "+a+Pt.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(ka.hide):this.out.write(xa(this.outputText,this.out.columns)),super.render();let e=Qp(this.select,this.choices.length,this.limit),r=e.startIndex,s=e.endIndex;if(this.outputText=[As.symbol(this.done,this.aborted,this.exited),Pt.bold(this.msg),As.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(r,s).map((n,o)=>this.renderOption(n,this.select===o+r,o===0&&r>0,o+r===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(i||Pt.gray(this.fallback.title))}this.out.write(Jp.line+ka.to(0)+this.outputText)}};Sa.exports=qs});var Pa=d((p1,Ea)=>{"use strict";var $e=E(),Zp=R(),em=Zp.cursor,tm=$s(),Ds=pe(),Oa=Ds.clear,Ma=Ds.style,ot=Ds.figures,Fs=class extends tm{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Oa("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(s=>s===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ot.arrowUp}/${ot.arrowDown}: Highlight option
    ${ot.arrowLeft}/${ot.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:$e.gray("Enter something to filter")}
`}renderOption(e,r,s){let i;return r.disabled?i=e===s?$e.gray().underline(r.title):$e.strikethrough().gray(r.title):i=e===s?$e.cyan().underline(r.title):r.title,(r.selected?$e.green(ot.radioOn):ot.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[$e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push($e.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(em.hide),super.render();let e=[Ma.symbol(this.done,this.aborted),$e.bold(this.msg),Ma.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=$e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Oa(e,this.out.columns)}};Ea.exports=Fs});var Da=d((m1,Fa)=>{"use strict";var Ra=E(),rm=Ee(),Ia=pe(),$a=Ia.style,sm=Ia.clear,qa=R(),im=qa.erase,Aa=qa.cursor,js=class extends rm{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Aa.hide):this.out.write(sm(this.outputText,this.out.columns)),super.render(),this.outputText=[$a.symbol(this.done,this.aborted),Ra.bold(this.msg),$a.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Ra.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(im.line+Aa.to(0)+this.outputText))}};Fa.exports=js});var La=d((g1,ja)=>{"use strict";ja.exports={TextPrompt:To(),SelectPrompt:Mo(),TogglePrompt:Io(),DatePrompt:ca(),NumberPrompt:ga(),MultiselectPrompt:$s(),AutocompletePrompt:Ca(),AutocompleteMultiselectPrompt:Pa(),ConfirmPrompt:Da()}});var Na=d(Ba=>{"use strict";var X=Ba,nm=La(),cr=t=>t;function we(t,e,r={}){return new Promise((s,i)=>{let n=new nm[t](e),o=r.onAbort||cr,a=r.onSubmit||cr,u=r.onExit||cr;n.on("state",e.onState||cr),n.on("submit",c=>s(a(c))),n.on("exit",c=>s(u(c))),n.on("abort",c=>i(o(c)))})}X.text=t=>we("TextPrompt",t);X.password=t=>(t.style="password",X.text(t));X.invisible=t=>(t.style="invisible",X.text(t));X.number=t=>we("NumberPrompt",t);X.date=t=>we("DatePrompt",t);X.confirm=t=>we("ConfirmPrompt",t);X.list=t=>{let e=t.separator||",";return we("TextPrompt",t,{onSubmit:r=>r.split(e).map(s=>s.trim())})};X.toggle=t=>we("TogglePrompt",t);X.select=t=>we("SelectPrompt",t);X.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return we("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};X.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return we("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var om=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));X.autocomplete=t=>(t.suggest=t.suggest||om,t.choices=[].concat(t.choices||[]),we("AutocompletePrompt",t))});var Wa=d((y1,Ja)=>{"use strict";function Ga(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ga(Object(r),!0).forEach(function(s){am(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function am(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function um(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=cm(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return n=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function cm(t,e){if(t){if(typeof t=="string")return Ha(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ha(t,e)}}function Ha(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Ya(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Va(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Ya(n,s,i,o,a,"next",u)}function a(u){Ya(n,s,i,o,a,"throw",u)}o(void 0)})}}var Ls=Na(),lm=["suggest","format","onState","validate","onRender","type"],za=()=>{};function Be(){return Bs.apply(this,arguments)}function Bs(){return Bs=Va(function*(t=[],{onSubmit:e=za,onCancel:r=za}={}){let s={},i=Be._override||{};t=[].concat(t);let n,o,a,u,c,h,l=function(){var O=Va(function*(A,ie,Oe=!1){if(!(!Oe&&A.validate&&A.validate(ie)!==!0))return A.format?yield A.format(ie,s):ie});return function(ie,Oe){return O.apply(this,arguments)}}();var p=um(t),g;try{for(p.s();!(g=p.n()).done;){o=g.value;var G=o;if(u=G.name,c=G.type,typeof c=="function"&&(c=yield c(n,Ua({},s),o),o.type=c),!!c){for(let O in o){if(lm.includes(O))continue;let A=o[O];o[O]=typeof A=="function"?yield A(n,Ua({},s),h):A}if(h=o,typeof o.message!="string")throw new Error("prompt message is required");var U=o;if(u=U.name,c=U.type,Ls[c]===void 0)throw new Error(`prompt type (${c}) is not defined`);if(i[o.name]!==void 0&&(n=yield l(o,i[o.name]),n!==void 0)){s[u]=n;continue}try{n=Be._injected?hm(Be._injected,o.initial):yield Ls[c](o),s[u]=n=yield l(o,n,!0),a=yield e(o,n,s)}catch{a=!(yield r(o,s))}if(a)return s}}}catch(O){p.e(O)}finally{p.f()}return s}),Bs.apply(this,arguments)}function hm(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function dm(t){Be._injected=(Be._injected||[]).concat(t)}function fm(t){Be._override=Object.assign({},t)}Ja.exports=Object.assign(Be,{prompt:Be,prompts:Ls,inject:dm,override:fm})});var Ka=d((v1,Qa)=>{"use strict";Qa.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var lr=d((w1,Xa)=>{"use strict";Xa.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var tu=d((k1,eu)=>{"use strict";var pm=lr(),{erase:Za,cursor:mm}=R(),gm=t=>[...pm(t)].length;eu.exports=function(t,e){if(!e)return Za.line+mm.to(0);let r=0,s=t.split(/\r?\n/);for(let i of s)r+=1+Math.floor(Math.max(gm(i)-1,0)/e);return Za.lines(r)}});var Ns=d((x1,ru)=>{"use strict";var $t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},bm={arrowUp:$t.arrowUp,arrowDown:$t.arrowDown,arrowLeft:$t.arrowLeft,arrowRight:$t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},ym=process.platform==="win32"?bm:$t;ru.exports=ym});var iu=d((_1,su)=>{"use strict";var at=E(),Je=Ns(),Gs=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),vm=t=>Gs[t]||Gs.default,At=Object.freeze({aborted:at.red(Je.cross),done:at.green(Je.tick),exited:at.yellow(Je.cross),default:at.cyan("?")}),wm=(t,e,r)=>e?At.aborted:r?At.exited:t?At.done:At.default,km=t=>at.gray(t?Je.ellipsis:Je.pointerSmall),xm=(t,e)=>at.gray(t?e?Je.pointerSmall:"+":Je.line);su.exports={styles:Gs,render:vm,symbols:At,symbol:wm,delimiter:km,item:xm}});var ou=d((T1,nu)=>{"use strict";var _m=lr();nu.exports=function(t,e){let r=String(_m(t)||"").split(/\r?\n/);return e?r.map(s=>Math.ceil(s.length/e)).reduce((s,i)=>s+i):r.length}});var uu=d((S1,au)=>{"use strict";au.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((n,o)=>(o.length+r.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${r}${o}`),n),[r]).join(`
`)).join(`
`)}});var lu=d((C1,cu)=>{"use strict";cu.exports=(t,e,r)=>{r=r||e;let s=Math.min(e-r,t-Math.floor(r/2));s<0&&(s=0);let i=Math.min(s+r,e);return{startIndex:s,endIndex:i}}});var me=d((O1,hu)=>{"use strict";hu.exports={action:Ka(),clear:tu(),style:iu(),strip:lr(),figures:Ns(),lines:ou(),wrap:uu(),entriesToDisplay:lu()}});var Ae=d((M1,fu)=>{"use strict";var du=require("readline"),{action:Tm}=me(),Sm=require("events"),{beep:Cm,cursor:Om}=R(),Mm=E(),Us=class extends Sm{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=du.createInterface({input:this.in,escapeCodeTimeout:50});du.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(n,o)=>{let a=Tm(o,s);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(Om.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Cm)}render(){this.onRender(Mm),this.firstRender&&(this.firstRender=!1)}};fu.exports=Us});var mu=d((E1,pu)=>{var hr=E(),Em=Ae(),{erase:Pm,cursor:It}=R(),{style:Hs,clear:Ys,lines:Rm,figures:$m}=me(),Vs=class extends Em{constructor(e={}){super(e),this.transform=Hs.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Ys("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=hr.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(It.down(Rm(this.outputError,this.out.columns)-1)+Ys(this.outputError,this.out.columns)),this.out.write(Ys(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Hs.symbol(this.done,this.aborted),hr.bold(this.msg),Hs.delimiter(this.done),this.red?hr.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":$m.pointerSmall} ${hr.red().italic(r)}`,"")),this.out.write(Pm.line+It.to(0)+this.outputText+It.save+this.outputError+It.restore+It.move(this.cursorOffset,0)))}};pu.exports=Vs});var vu=d((P1,yu)=>{"use strict";var Ie=E(),Am=Ae(),{style:gu,clear:bu,figures:dr,wrap:Im,entriesToDisplay:qm}=me(),{cursor:Fm}=R(),zs=class extends Am{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?s:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=bu("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Fm.hide):this.out.write(bu(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=qm(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[gu.symbol(this.done,this.aborted),Ie.bold(this.msg),gu.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Ie.yellow(this.warn):Ie.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<r;s++){let i,n,o="",a=this.choices[s];s===e&&e>0?n=dr.arrowUp:s===r-1&&r<this.choices.length?n=dr.arrowDown:n=" ",a.disabled?(i=this.cursor===s?Ie.gray().underline(a.title):Ie.strikethrough().gray(a.title),n=(this.cursor===s?Ie.bold().gray(dr.pointer)+" ":"  ")+n):(i=this.cursor===s?Ie.cyan().underline(a.title):a.title,n=(this.cursor===s?Ie.cyan(dr.pointer)+" ":"  ")+n,a.description&&this.cursor===s&&(o=` - ${a.description}`,(n.length+i.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+Im(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${i}${Ie.gray(o)}
`}}this.out.write(this.outputText)}};yu.exports=zs});var _u=d((R1,xu)=>{var fr=E(),Dm=Ae(),{style:wu,clear:jm}=me(),{cursor:ku,erase:Lm}=R(),Js=class extends Dm{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(ku.hide):this.out.write(jm(this.outputText,this.out.columns)),super.render(),this.outputText=[wu.symbol(this.done,this.aborted),fr.bold(this.msg),wu.delimiter(this.done),this.value?this.inactive:fr.cyan().underline(this.inactive),fr.gray("/"),this.value?fr.cyan().underline(this.active):this.active].join(" "),this.out.write(Lm.line+ku.to(0)+this.outputText))}};xu.exports=Js});var ke=d(($1,Tu)=>{"use strict";var ut=class{constructor({token:e,date:r,parts:s,locales:i}){this.token=e,this.date=r||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,s)=>s>e&&r instanceof ut)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((s,i)=>i>r&&s instanceof ut)}toString(){return String(this.date)}};Tu.exports=ut});var Cu=d((A1,Su)=>{"use strict";var Bm=ke(),Ws=class extends Bm{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Su.exports=Ws});var Mu=d((I1,Ou)=>{"use strict";var Nm=ke(),Gm=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),Qs=class extends Nm{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Gm(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};Ou.exports=Qs});var Pu=d((q1,Eu)=>{"use strict";var Um=ke(),Ks=class extends Um{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Eu.exports=Ks});var $u=d((F1,Ru)=>{"use strict";var Hm=ke(),Xs=class extends Hm{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Ru.exports=Xs});var Iu=d((D1,Au)=>{"use strict";var Ym=ke(),Zs=class extends Ym{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Au.exports=Zs});var Fu=d((j1,qu)=>{"use strict";var Vm=ke(),ei=class extends Vm{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};qu.exports=ei});var ju=d((L1,Du)=>{"use strict";var zm=ke(),ti=class extends zm{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Du.exports=ti});var Bu=d((B1,Lu)=>{"use strict";var Jm=ke(),ri=class extends Jm{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Lu.exports=ri});var Gu=d((N1,Nu)=>{"use strict";Nu.exports={DatePart:ke(),Meridiem:Cu(),Day:Mu(),Hours:Pu(),Milliseconds:$u(),Minutes:Iu(),Month:Fu(),Seconds:ju(),Year:Bu()}});var Wu=d((G1,Ju)=>{"use strict";var si=E(),Wm=Ae(),{style:Uu,clear:Hu,figures:Qm}=me(),{erase:Km,cursor:Yu}=R(),{DatePart:Vu,Meridiem:Xm,Day:Zm,Hours:eg,Milliseconds:tg,Minutes:rg,Month:sg,Seconds:ig,Year:ng}=Gu(),og=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,zu={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Zm(t),3:t=>new sg(t),4:t=>new ng(t),5:t=>new Xm(t),6:t=>new eg(t),7:t=>new rg(t),8:t=>new ig(t),9:t=>new tg(t)},ag={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},ii=class extends Wm{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(ag,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Hu("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=og.exec(e);){let i=r.shift(),n=r.findIndex(o=>o!=null);this.parts.push(n in zu?zu[n]({token:r[n]||i,date:this.date,parts:this.parts,locales:this.locales}):r[n]||i)}let s=this.parts.reduce((i,n)=>(typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n),i),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Vu)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof Vu)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Yu.hide):this.out.write(Hu(this.outputText,this.out.columns)),super.render(),this.outputText=[Uu.symbol(this.done,this.aborted),si.bold(this.msg),Uu.delimiter(!1),this.parts.reduce((e,r,s)=>e.concat(s===this.cursor&&!this.done?si.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Qm.pointerSmall} ${si.red().italic(r)}`,"")),this.out.write(Km.line+Yu.to(0)+this.outputText))}};Ju.exports=ii});var Zu=d((U1,Xu)=>{var pr=E(),ug=Ae(),{cursor:mr,erase:cg}=R(),{style:ni,figures:lg,clear:Qu,lines:hg}=me(),dg=/[0-9]/,oi=t=>t!==void 0,Ku=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},ai=class extends ug{constructor(e={}){super(e),this.transform=ni.render(e.style),this.msg=e.message,this.initial=oi(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=oi(e.min)?e.min:-1/0,this.max=oi(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=pr.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Ku(e,this.round)}`),this._value=Ku(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||dg.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(mr.down(hg(this.outputError,this.out.columns)-1)+Qu(this.outputError,this.out.columns)),this.out.write(Qu(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ni.symbol(this.done,this.aborted),pr.bold(this.msg),ni.delimiter(this.done),!this.done||!this.done&&!this.placeholder?pr[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":lg.pointerSmall} ${pr.red().italic(r)}`,"")),this.out.write(cg.line+mr.to(0)+this.outputText+mr.save+this.outputError+mr.restore))}};Xu.exports=ai});var ci=d((H1,rc)=>{"use strict";var xe=E(),{cursor:fg}=R(),pg=Ae(),{clear:ec,figures:Ne,style:tc,wrap:mg,entriesToDisplay:gg}=me(),ui=class extends pg{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?s:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=ec("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Ne.arrowUp}/${Ne.arrowDown}: Highlight option
    ${Ne.arrowLeft}/${Ne.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,s,i){let n=(r.selected?xe.green(Ne.radioOn):Ne.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===s?xe.gray().underline(r.title):xe.strikethrough().gray(r.title):(o=e===s?xe.cyan().underline(r.title):r.title,e===s&&r.description&&(a=` - ${r.description}`,(n.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+mg(r.description,{margin:n.length,width:this.out.columns})))),n+o+xe.gray(a||"")}paginateOptions(e){if(e.length===0)return xe.red("No matches for this query.");let{startIndex:r,endIndex:s}=gg(this.cursor,e.length,this.optionsPerPage),i,n=[];for(let o=r;o<s;o++)o===r&&r>0?i=Ne.arrowUp:o===s-1&&s<e.length?i=Ne.arrowDown:i=" ",n.push(this.renderOption(this.cursor,e[o],o,i));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[xe.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(xe.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(fg.hide),super.render();let e=[tc.symbol(this.done,this.aborted),xe.bold(this.msg),tc.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=xe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=ec(e,this.out.columns)}};rc.exports=ui});var ac=d((Y1,oc)=>{"use strict";var qt=E(),bg=Ae(),{erase:yg,cursor:sc}=R(),{style:li,clear:ic,figures:hi,wrap:vg,entriesToDisplay:wg}=me(),nc=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),kg=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),xg=(t,e)=>{let r=t.findIndex(s=>s.value===e||s.title===e);return r>-1?r:void 0},di=class extends bg{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:xg(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=li.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=ic("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=nc(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let r=this.completing=this.suggest(this.input,this.choices),s=await r;if(this.completing!==r)return;this.suggestions=s.map((n,o,a)=>({title:kg(a,o),value:nc(a,o),description:n.description})),this.completing=!1;let i=Math.max(s.length-1,0);this.moveSelect(Math.min(i,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${e}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,s,i){let n,o=s?hi.arrowUp:i?hi.arrowDown:" ",a=r?qt.cyan().underline(e.title):e.title;return o=(r?qt.cyan(hi.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+vg(e.description,{margin:3,width:this.out.columns}))),o+" "+a+qt.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(sc.hide):this.out.write(ic(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=wg(this.select,this.choices.length,this.limit);if(this.outputText=[li.symbol(this.done,this.aborted,this.exited),qt.bold(this.msg),li.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(e,r).map((i,n)=>this.renderOption(i,this.select===n+e,n===0&&e>0,n+e===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||qt.gray(this.fallback.title))}this.out.write(yg.line+sc.to(0)+this.outputText)}};oc.exports=di});var hc=d((V1,lc)=>{"use strict";var qe=E(),{cursor:_g}=R(),Tg=ci(),{clear:uc,style:cc,figures:ct}=me(),fi=class extends Tg{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=uc("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(s=>s===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ct.arrowUp}/${ct.arrowDown}: Highlight option
    ${ct.arrowLeft}/${ct.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:qe.gray("Enter something to filter")}
`}renderOption(e,r,s){let i;return r.disabled?i=e===s?qe.gray().underline(r.title):qe.strikethrough().gray(r.title):i=e===s?qe.cyan().underline(r.title):r.title,(r.selected?qe.green(ct.radioOn):ct.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[qe.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(qe.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(_g.hide),super.render();let e=[cc.symbol(this.done,this.aborted),qe.bold(this.msg),cc.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=qe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=uc(e,this.out.columns)}};lc.exports=fi});var gc=d((z1,mc)=>{var dc=E(),Sg=Ae(),{style:fc,clear:Cg}=me(),{erase:Og,cursor:pc}=R(),pi=class extends Sg{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(pc.hide):this.out.write(Cg(this.outputText,this.out.columns)),super.render(),this.outputText=[fc.symbol(this.done,this.aborted),dc.bold(this.msg),fc.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:dc.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Og.line+pc.to(0)+this.outputText))}};mc.exports=pi});var yc=d((J1,bc)=>{"use strict";bc.exports={TextPrompt:mu(),SelectPrompt:vu(),TogglePrompt:_u(),DatePrompt:Wu(),NumberPrompt:Zu(),MultiselectPrompt:ci(),AutocompletePrompt:ac(),AutocompleteMultiselectPrompt:hc(),ConfirmPrompt:gc()}});var wc=d(vc=>{"use strict";var Z=vc,Mg=yc(),gr=t=>t;function _e(t,e,r={}){return new Promise((s,i)=>{let n=new Mg[t](e),o=r.onAbort||gr,a=r.onSubmit||gr,u=r.onExit||gr;n.on("state",e.onState||gr),n.on("submit",c=>s(a(c))),n.on("exit",c=>s(u(c))),n.on("abort",c=>i(o(c)))})}Z.text=t=>_e("TextPrompt",t);Z.password=t=>(t.style="password",Z.text(t));Z.invisible=t=>(t.style="invisible",Z.text(t));Z.number=t=>_e("NumberPrompt",t);Z.date=t=>_e("DatePrompt",t);Z.confirm=t=>_e("ConfirmPrompt",t);Z.list=t=>{let e=t.separator||",";return _e("TextPrompt",t,{onSubmit:r=>r.split(e).map(s=>s.trim())})};Z.toggle=t=>_e("TogglePrompt",t);Z.select=t=>_e("SelectPrompt",t);Z.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return _e("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};Z.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return _e("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var Eg=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));Z.autocomplete=t=>(t.suggest=t.suggest||Eg,t.choices=[].concat(t.choices||[]),_e("AutocompletePrompt",t))});var _c=d((Q1,xc)=>{"use strict";var mi=wc(),Pg=["suggest","format","onState","validate","onRender","type"],kc=()=>{};async function Ge(t=[],{onSubmit:e=kc,onCancel:r=kc}={}){let s={},i=Ge._override||{};t=[].concat(t);let n,o,a,u,c,h,l=async(p,g,G=!1)=>{if(!(!G&&p.validate&&p.validate(g)!==!0))return p.format?await p.format(g,s):g};for(o of t)if({name:u,type:c}=o,typeof c=="function"&&(c=await c(n,{...s},o),o.type=c),!!c){for(let p in o){if(Pg.includes(p))continue;let g=o[p];o[p]=typeof g=="function"?await g(n,{...s},h):g}if(h=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:u,type:c}=o,mi[c]===void 0)throw new Error(`prompt type (${c}) is not defined`);if(i[o.name]!==void 0&&(n=await l(o,i[o.name]),n!==void 0)){s[u]=n;continue}try{n=Ge._injected?Rg(Ge._injected,o.initial):await mi[c](o),s[u]=n=await l(o,n,!0),a=await e(o,n,s)}catch{a=!await r(o,s)}if(a)return s}return s}function Rg(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function $g(t){Ge._injected=(Ge._injected||[]).concat(t)}function Ag(t){Ge._override=Object.assign({},t)}xc.exports=Object.assign(Ge,{prompt:Ge,prompts:mi,inject:$g,override:Ag})});var Sc=d((K1,Tc)=>{function Ig(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}Tc.exports=Ig("8.6.0")?Wa():_c()});var jc=d((iw,ht)=>{"use strict";var N=require("fs"),B=require("path"),wr=require("zlib"),$c=".git";function qg(t){$c=t}function Fg(t){var e=N.statSync(t),r=B.dirname(B.resolve(t));if(e.isDirectory())return{worktreeGitDir:t,commonGitDir:t,root:r};var s=N.readFileSync(t).toString(),i=B.resolve(B.dirname(t)),n=/gitdir: (.*)/.exec(s)[1],o=B.resolve(i,n),a=B.join(o,"commondir");if(N.existsSync(a)){var u=N.readFileSync(a).toString().replace(/\r?\n$/,""),c=B.resolve(B.join(o,u));return{worktreeGitDir:o,commonGitDir:c,root:B.dirname(c)}}else return{worktreeGitDir:o,commonGitDir:o,root:r}}function Ac(t){var e,r,s=t;s||(s=process.cwd());do{if(e=B.join(s,$c),N.existsSync(e))return Fg(e);r=s,s=B.resolve(s,"..")}while(r!==s);return null}function Dg(t,e){return Ic(t,e,"tag")}function jg(t,e){return Ic(t,e,"commit")[0]}function Ic(t,e,r){var s=Lg(t);return s?Bg(s,r,e).map(function(i){return Gg(r,i)}):[]}function Lg(t){var e=B.join(t,"packed-refs");return N.existsSync(e)?N.readFileSync(e,{encoding:"utf8"}):!1}function Bg(t,e,r){return t.split(/\r?\n/).reduce(function(s,i,n,o){var a=i.indexOf("^")>-1?o[n-1]:i;return Ng(e,i,r)?s.concat(a):s},[])}function Ng(t,e,r){var s=t==="tag"?"refs/tags":"refs/heads";return(e.indexOf(s)>-1||e.indexOf("^")>-1)&&e.indexOf(r)>-1}function Gg(t,e){var r="";return t==="tag"?r=e.split("tags/")[1]:t==="commit"&&(r=e.split(" ")[0]),r}function Ug(t,e){var r=B.join(t,"refs","tags",e),s=N.readFileSync(r,{encoding:"utf8"}).trim(),i=B.join(t,"objects",s.slice(0,2),s.slice(2));if(!wr.inflateSync||!N.existsSync(i))return s;var n=wr.inflateSync(N.readFileSync(i)).toString();if(n.slice(0,3)==="tag"){var o=n.split(/\0|\r?\n/),a=o[1].slice(7);return a}else return s}function qc(t,e){var r=Dg(t,e).concat(Yg(t,e));return r.sort(),r.length?r[0]:!1}var Ft={};function Hg(t,e,r){return Ft[t]||(Ft[t]={}),Ft[t][e]||(Ft[t][e]=Fc(t,e,r)),Ft[t][e]}function Fc(t,e,r){r=r||0;var s=qc(t,e);if(!s){var i=Dc(t,e);return i?i.parents.map(n=>Fc(t,n,r+1)).reduce((n,o)=>n.commitsSinceLastTag<o.commitsSinceLastTag?n:o,{commitsSinceLastTag:1/0}):{tag:null,commitsSinceLastTag:1/0}}return{tag:s,commitsSinceLastTag:r}}function Yg(t,e){for(var r=[],s=Vg(t,"tags"),i=0,n=s.length;i<n;i++){var o=Ug(t,s[i]);o===e&&r.push(s[i])}return r}function Vg(t,e){var r=B.join(t,"refs",e);return N.existsSync(r)?N.readdirSync(r):[]}ht.exports=function(t){var e=Ac(t),r={sha:null,abbreviatedSha:null,branch:null,tag:null,committer:null,committerDate:null,author:null,authorDate:null,commitMessage:null,root:null,commonGitDir:null,worktreeGitDir:null,lastTag:null,commitsSinceLastTag:0};if(!e)return r;try{r.root=e.root,r.commonGitDir=e.commonGitDir,r.worktreeGitDir=e.worktreeGitDir;var s=B.join(e.worktreeGitDir,"HEAD");if(N.existsSync(s)){var i=N.readFileSync(s,{encoding:"utf8"}),n=i.split("/").slice(2).join("/").trim();n||(n=i.split("/").slice(-1)[0].trim());var o=i.split(" ")[1];if(o){o=o.trim();var a=B.join(e.commonGitDir,o);r.branch=n,N.existsSync(a)?r.sha=N.readFileSync(a,{encoding:"utf8"}).trim():r.sha=jg(e.commonGitDir,o)}else r.sha=n;r.abbreviatedSha=r.sha.slice(0,10);var u=Dc(e.commonGitDir,r.sha);u&&(r=Object.keys(u).reduce(function(l,p){return r[p]=u[p],r},r));var c=qc(e.commonGitDir,r.sha);c&&(r.tag=c);var h=Hg(e.commonGitDir,r.sha);r.lastTag=h.tag,r.commitsSinceLastTag=h.commitsSinceLastTag}}catch(l){if(!ht.exports._suppressErrors)throw l}return r};ht.exports._suppressErrors=!0;ht.exports._findRepo=Ac;ht.exports._changeGitDir=qg;function Dc(t,e){var r=B.join(t,"objects",e.slice(0,2),e.slice(2));if(wr.inflateSync&&N.existsSync(r)){var s=wr.inflateSync(N.readFileSync(r)).toString();return s.split(/\0|\r?\n/).filter(function(i){return!!i}).reduce(function(i,n){var o=n.slice(0,n.indexOf(" ")).trim();switch(o){case"commit":case"tag":case"object":case"type":case"tree":break;case"author":case"committer":var a=n.match(/^(?:author|committer)\s(.+)\s(\d+\s(?:\+|\-)\d{4})$/);a&&(i[o]=a[1],i[o+"Date"]=zg(a[2]));break;case"parent":i.parents=n.split(/\r?\n/).map(u=>u.split(" ")[1]);break;default:i.commitMessage=n}return i},{})}}function zg(t){var e=t.split(" ")[0];return new Date(e*1e3).toISOString()}});var Bc=d((nw,Lc)=>{var dt=1e3,ft=dt*60,pt=ft*60,We=pt*24,Jg=We*7,Wg=We*365.25;Lc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Qg(t);if(r==="number"&&isFinite(t))return e.long?Xg(t):Kg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Qg(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*Wg;case"weeks":case"week":case"w":return r*Jg;case"days":case"day":case"d":return r*We;case"hours":case"hour":case"hrs":case"hr":case"h":return r*pt;case"minutes":case"minute":case"mins":case"min":case"m":return r*ft;case"seconds":case"second":case"secs":case"sec":case"s":return r*dt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Kg(t){var e=Math.abs(t);return e>=We?Math.round(t/We)+"d":e>=pt?Math.round(t/pt)+"h":e>=ft?Math.round(t/ft)+"m":e>=dt?Math.round(t/dt)+"s":t+"ms"}function Xg(t){var e=Math.abs(t);return e>=We?kr(t,e,We,"day"):e>=pt?kr(t,e,pt,"hour"):e>=ft?kr(t,e,ft,"minute"):e>=dt?kr(t,e,dt,"second"):t+" ms"}function kr(t,e,r,s){var i=e>=r*1.5;return Math.round(t/r)+" "+s+(i?"s":"")}});var bi=d((ow,Nc)=>{function Zg(t){r.debug=r,r.default=r,r.coerce=u,r.disable=n,r.enable=i,r.enabled=o,r.humanize=Bc(),r.destroy=c,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let l=0;for(let p=0;p<h.length;p++)l=(l<<5)-l+h.charCodeAt(p),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(h){let l,p=null,g,G;function U(...O){if(!U.enabled)return;let A=U,ie=Number(new Date),Oe=ie-(l||ie);A.diff=Oe,A.prev=l,A.curr=ie,l=ie,O[0]=r.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let Ve=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(_,V)=>{if(_==="%%")return"%";Ve++;let z=r.formatters[V];if(typeof z=="function"){let Me=O[Ve];_=z.call(A,Me),O.splice(Ve,1),Ve--}return _}),r.formatArgs.call(A,O),(A.log||r.log).apply(A,O)}return U.namespace=h,U.useColors=r.useColors(),U.color=r.selectColor(h),U.extend=s,U.destroy=r.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,G=r.enabled(h)),G),set:O=>{p=O}}),typeof r.init=="function"&&r.init(U),U}function s(h,l){let p=r(this.namespace+(typeof l>"u"?":":l)+h);return p.log=this.log,p}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let l,p=(typeof h=="string"?h:"").split(/[\s,]+/),g=p.length;for(l=0;l<g;l++)p[l]&&(h=p[l].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function n(){let h=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let l,p;for(l=0,p=r.skips.length;l<p;l++)if(r.skips[l].test(h))return!1;for(l=0,p=r.names.length;l<p;l++)if(r.names[l].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function u(h){return h instanceof Error?h.stack||h.message:h}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Nc.exports=Zg});var Gc=d((ne,xr)=>{ne.formatArgs=t0;ne.save=r0;ne.load=s0;ne.useColors=e0;ne.storage=i0();ne.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ne.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e0(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t0(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+xr.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(s=r))}),t.splice(s,0,e)}ne.log=console.debug||console.log||(()=>{});function r0(t){try{t?ne.storage.setItem("debug",t):ne.storage.removeItem("debug")}catch{}}function s0(){let t;try{t=ne.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function i0(){try{return localStorage}catch{}}xr.exports=bi()(ne);var{formatters:n0}=xr.exports;n0.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Hc=d((Y,Tr)=>{var o0=require("tty"),_r=require("util");Y.init=f0;Y.log=l0;Y.formatArgs=u0;Y.save=h0;Y.load=d0;Y.useColors=a0;Y.destroy=_r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Y.colors=[6,2,3,4,5,1];try{let t=ts();t&&(t.stderr||t).level>=2&&(Y.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Y.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,n)=>n.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function a0(){return"colors"in Y.inspectOpts?!!Y.inspectOpts.colors:o0.isatty(process.stderr.fd)}function u0(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,i="\x1B[3"+(s<8?s:"8;5;"+s),n=`  ${i};1m${e} \x1B[0m`;t[0]=n+t[0].split(`
`).join(`
`+n),t.push(i+"m+"+Tr.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=c0()+e+" "+t[0]}function c0(){return Y.inspectOpts.hideDate?"":new Date().toISOString()+" "}function l0(...t){return process.stderr.write(_r.format(...t)+`
`)}function h0(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function d0(){return process.env.DEBUG}function f0(t){t.inspectOpts={};let e=Object.keys(Y.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Y.inspectOpts[e[r]]}Tr.exports=bi()(Y);var{formatters:Uc}=Tr.exports;Uc.o=function(t){return this.inspectOpts.colors=this.useColors,_r.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Uc.O=function(t){return this.inspectOpts.colors=this.useColors,_r.inspect(t,this.inspectOpts)}});var vi=d((aw,yi)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?yi.exports=Gc():yi.exports=Hc()});var Yc=d(oe=>{"use strict";var p0=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oe,"__esModule",{value:!0});var m0=require("fs"),g0=p0(vi()),mt=g0.default("@kwsites/file-exists");function b0(t,e,r){mt("checking %s",t);try{let s=m0.statSync(t);return s.isFile()&&e?(mt("[OK] path represents a file"),!0):s.isDirectory()&&r?(mt("[OK] path represents a directory"),!0):(mt("[FAIL] path represents something other than a file or directory"),!1)}catch(s){if(s.code==="ENOENT")return mt("[FAIL] path is not accessible: %o",s),!1;throw mt("[FATAL] %o",s),s}}function y0(t,e=oe.READABLE){return b0(t,(e&oe.FILE)>0,(e&oe.FOLDER)>0)}oe.exists=y0;oe.FILE=1;oe.FOLDER=2;oe.READABLE=oe.FILE+oe.FOLDER});var Vc=d(Sr=>{"use strict";function v0(t){for(var e in t)Sr.hasOwnProperty(e)||(Sr[e]=t[e])}Object.defineProperty(Sr,"__esModule",{value:!0});v0(Yc())});var ki=d(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.createDeferred=Qe.deferred=void 0;function wi(){let t,e,r="pending";return{promise:new Promise((i,n)=>{t=i,e=n}),done(i){r==="pending"&&(r="resolved",t(i))},fail(i){r==="pending"&&(r="rejected",e(i))},get fulfilled(){return r!=="pending"},get status(){return r}}}Qe.deferred=wi;Qe.createDeferred=wi;Qe.default=wi});var pn="1.0.5";function mn(t,e,r=!0){return{active:"yes",hint:"Arrows to choose option. Return to select.",inactive:"no",initial:r,instructions:!1,message:e,name:t,type:"toggle"}}function Jt(t,e,r,s){return{choices:r,hint:`Arrows to navigate. ${s?"Space to select. Return to submit":"Return to select."} `,instructions:!1,message:e,name:t,type:s?"multiselect":"select"}}function gn(t,e){return{format:r=>{let s=/\w+-.+/gm;return r.match(s)[0].toUpperCase().trim()},hint:"e.g. Ticket Number or URL",instructions:!1,message:e,name:t,type:"text",validate:r=>{let s=/\w+-.+/gm;return r.match(s)?!0:"Invalid Format - Provide either ticket or Jira URL"}}}var bn=()=>[!0,"true"].includes(process.env.IS_TEST);var F=fe(Tt()),Mc=fe(Sc());async function le(t){return await(0,Mc.default)(t,{onCancel:()=>process.exit(1)})}async function H(t,e=!0){let{confirm:r}=await le([mn("confirm",t,e)]);return r}function Ec(){return Jt("developmentStage","What do you want to do?",[{title:`${F.default.cyanBright("Branch - \u2728 New ")}${F.default.grey("(create a new branch)")}`,value:"branchNew"},{title:`${F.default.magentaBright("Commit - \u{1F4DD} Formatted ")}${F.default.grey("(create a commit ready for a PR)")}`,value:"commitFull"},{title:`${F.default.magentaBright("Commit - \u{1F504} Retro ")}${F.default.grey("(force push current changes on-top of the last commit)")}`,value:"commitRetro"},{title:`${F.default.magentaBright("Commit - \u{1F9EA} Dev ")}${F.default.grey("(quickly push code while developing)")}`,value:"commitQuick"},{title:`${F.default.greenBright("Other  - \u{1F41B} Squish  ")}${F.default.grey("(a semi-automated squash with master)")}`,value:"squash"},{title:`${F.default.blueBright("Other  - \u{1F517} Share Jit ")}${F.default.grey("(print npm install for Jit)")}`,value:"shareJit"},{title:`${F.default.redBright("Other  - \u274C Reset Branch ")}${F.default.grey("(back to a clean slate from master)")}`,value:"checkoutMaster"}].concat(bn()?[{title:"Echo?",value:"test"}].map(t=>({...t,title:`${F.default.yellowBright("[TEST]")} ${t.title}`})):[]))}async function br(){let r=(await L().branchName()).split("/")[0];if(["fix","chore","feat"].includes(r))return r;{let{commitType:s}=await le([gi()]);return s}}function gi(){return Jt("commitType","Commit Type",[{title:"Feature",value:"feat"},{title:"Fix",value:"fix"},{title:"Chore",value:"chore"}])}function yr(t){return Jt("packageJson","Select the main package changed",t.map(e=>({title:e,value:e})))}function vr(){return gn("jiraTicket",`Jira Ticket Number ${F.default.grey("(e.g. XX-XXXX or Jira Ticket URL)")}`)}var Cc=["Squashed all the bugs \u{1F41B}","Fixed y\u0336o\u0336u\u0336'\u0336r\u0336e\u0336 your typos","Force pushing main","Taking - my time"];function lt(){return{format:t=>t.toLowerCase().trim(),message:`Commit Message ${F.default.grey(`(e.g. ${Cc[Math.floor(Math.random()*Cc.length)]})`)}`,name:"commitMessage",type:"text",validate:t=>t.length<1?"Please provide a commit message":!0}}function Pc(){return{message:`Breaking Changes ${F.default.grey("(if none leave blank)")}`,name:"breakingChanges",type:"text"}}var Oc=["website-2","fix-final-new-2","just-one-more-commit","migrating-the-migration","loosing-my-marbles"];function Rc(){return{format:t=>t.replace(/\s+/g,"-").toLowerCase(),message:`Branch Name ${F.default.grey(`(these have to be kebab-case - e.g. ${Oc[Math.floor(Math.random()*Oc.length)]})`)}`,name:"branchName",type:"text"}}var Vr=require("child_process"),Se=require("fs"),_d=fe(jc()),wt=fe(require("path"));var jr=fe(Vc(),1),Ir=fe(vi(),1),fh=require("child_process"),Wh=fe(ki(),1),bt=fe(ki(),1),Fr=Object.defineProperty,w0=Object.defineProperties,k0=Object.getOwnPropertyDescriptor,x0=Object.getOwnPropertyDescriptors,Li=Object.getOwnPropertyNames,zc=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,_0=Object.prototype.propertyIsEnumerable,Jc=(t,e,r)=>e in t?Fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,he=(t,e)=>{for(var r in e||(e={}))Tl.call(e,r)&&Jc(t,r,e[r]);if(zc)for(var r of zc(e))_0.call(e,r)&&Jc(t,r,e[r]);return t},Lt=(t,e)=>w0(t,x0(e)),T0=t=>Fr(t,"__esModule",{value:!0}),m=(t,e)=>function(){return t&&(e=(0,t[Li(t)[0]])(t=0)),e},S0=(t,e)=>function(){return e||(0,t[Li(t)[0]])((e={exports:{}}).exports,e),e.exports},q=(t,e)=>{for(var r in e)Fr(t,r,{get:e[r],enumerable:!0})},C0=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Li(e))!Tl.call(t,i)&&(r||i!=="default")&&Fr(t,i,{get:()=>e[i],enumerable:!(s=k0(e,i))||s.enumerable});return t},$=(t=>(e,r)=>t&&t.get(e)||(r=C0(T0({}),e,1),t&&t.set(e,r),r))(typeof WeakMap<"u"?new WeakMap:0),jt=(t,e,r)=>new Promise((s,i)=>{var n=u=>{try{a(r.next(u))}catch(c){i(c)}},o=u=>{try{a(r.throw(u))}catch(c){i(c)}},a=u=>u.done?s(u.value):Promise.resolve(u.value).then(n,o);a((r=r.apply(t,e)).next())});function $r(t){return t instanceof String&&Bi.has(t)}function Wc(t){return Bi.get(t)||[]}var Bi,Dr=m({"src/lib/args/pathspec.ts"(){Bi=new WeakMap}}),Fe,Ye=m({"src/lib/errors/git-error.ts"(){Fe=class extends Error{constructor(t,e){super(e),this.task=t,Object.setPrototypeOf(this,new.target.prototype)}}}}),Ut,vt=m({"src/lib/errors/git-response-error.ts"(){Ye(),Ut=class extends Fe{constructor(t,e){super(void 0,e||String(t)),this.git=t}}}}),Sl,Cl=m({"src/lib/errors/task-configuration-error.ts"(){Ye(),Sl=class extends Fe{constructor(t){super(void 0,t)}}}});function Ol(t){return typeof t=="function"?t:Ze}function Ml(t){return typeof t=="function"&&t!==Ze}function El(t,e){let r=t.indexOf(e);return r<=0?[t,""]:[t.substr(0,r),t.substr(r+1)]}function Pl(t,e=0){return Rl(t)&&t.length>e?t[e]:void 0}function Xe(t,e=0){if(Rl(t)&&t.length>e)return t[t.length-1-e]}function Rl(t){return!!(t&&typeof t.length=="number")}function Ht(t="",e=!0,r=`
`){return t.split(r).reduce((s,i)=>{let n=e?i.trim():i;return n&&s.push(n),s},[])}function Ni(t,e){return Ht(t,!0).map(r=>e(r))}function Gi(t){return(0,jr.exists)(t,jr.FOLDER)}function x(t,e){return Array.isArray(t)?t.includes(e)||t.push(e):t.add(e),e}function $l(t,e){return Array.isArray(t)&&!t.includes(e)&&t.push(e),t}function Lr(t,e){if(Array.isArray(t)){let r=t.indexOf(e);r>=0&&t.splice(r,1)}else t.delete(e);return e}function He(t){return Array.isArray(t)?t:[t]}function Al(t){return He(t).map(String)}function M(t,e=0){if(t==null)return e;let r=parseInt(t,10);return isNaN(r)?e:r}function Bt(t,e){let r=[];for(let s=0,i=t.length;s<i;s++)r.push(e,t[s]);return r}function Nt(t){return(Array.isArray(t)?Buffer.concat(t):t).toString("utf-8")}function Il(t,e){return Object.assign({},...e.map(r=>r in t?{[r]:t[r]}:{}))}function Oi(t=0){return new Promise(e=>setTimeout(e,t))}var yt,Ze,Yt,Br=m({"src/lib/utils/util.ts"(){yt="\0",Ze=()=>{},Yt=Object.prototype.toString.call.bind(Object.prototype.toString)}});function Te(t,e,r){return e(t)?t:arguments.length>2?r:void 0}function Ui(t,e){let r=$r(t)?"string":typeof t;return/number|string|boolean/.test(r)&&(!e||!e.includes(r))}function Hi(t){return!!t&&Yt(t)==="[object Object]"}function ql(t){return typeof t=="function"}var Vt,J,Fl,Ar,Yi,Dl=m({"src/lib/utils/argument-filters.ts"(){Br(),Dr(),Vt=t=>Array.isArray(t),J=t=>typeof t=="string",Fl=t=>Array.isArray(t)&&t.every(J),Ar=t=>J(t)||Array.isArray(t)&&t.every(J),Yi=t=>t==null||"number|boolean|function".includes(typeof t)?!1:Array.isArray(t)||typeof t=="string"||typeof t.length=="number"}}),Mi,O0=m({"src/lib/utils/exit-codes.ts"(){Mi=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.ERROR=1]="ERROR",t[t.NOT_FOUND=-2]="NOT_FOUND",t[t.UNCLEAN=128]="UNCLEAN",t))(Mi||{})}}),Gt,M0=m({"src/lib/utils/git-output-streams.ts"(){Gt=class{constructor(t,e){this.stdOut=t,this.stdErr=e}asStrings(){return new Gt(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),k,Ue,E0=m({"src/lib/utils/line-parser.ts"(){k=class{constructor(t,e){this.matches=[],this.parse=(r,s)=>(this.resetMatches(),this._regExp.every((i,n)=>this.addMatch(i,n,r(n)))?this.useMatches(s,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(t)?t:[t],e&&(this.useMatches=e)}useMatches(t,e){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(t,e,r){let s=r&&t.exec(r);return s&&this.pushMatch(e,s),!!s}pushMatch(t,e){this.matches.push(...e.slice(1))}},Ue=class extends k{addMatch(t,e,r){return/^remote:\s/.test(String(r))&&super.addMatch(t,e,r)}pushMatch(t,e){(t>0||e.length>1)&&super.pushMatch(t,e)}}}});function jl(...t){let e=process.cwd(),r=Object.assign(he({baseDir:e},Ll),...t.filter(s=>typeof s=="object"&&s));return r.baseDir=r.baseDir||e,r.trimmed=r.trimmed===!0,r}var Ll,P0=m({"src/lib/utils/simple-git-options.ts"(){Ll={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function Vi(t,e=[]){return Hi(t)?Object.keys(t).reduce((r,s)=>{let i=t[s];return $r(i)?r.push(i):Ui(i,["boolean"])?r.push(s+"="+i):r.push(s),r},e):e}function ee(t,e=0,r=!1){let s=[];for(let i=0,n=e<0?t.length:e;i<n;i++)"string|number".includes(typeof t[i])&&s.push(String(t[i]));return Vi(zi(t),s),r||s.push(...R0(t)),s}function R0(t){let e=typeof Xe(t)=="function";return Te(Xe(t,e?1:0),Vt,[])}function zi(t){let e=ql(Xe(t));return Te(Xe(t,e?1:0),Hi)}function I(t,e=!0){let r=Ol(Xe(t));return e||Ml(r)?r:void 0}var $0=m({"src/lib/utils/task-options.ts"(){Dl(),Br(),Dr()}});function Ei(t,e){return t(e.stdOut,e.stdErr)}function ue(t,e,r,s=!0){return He(r).forEach(i=>{for(let n=Ht(i,s),o=0,a=n.length;o<a;o++){let u=(c=0)=>{if(!(o+c>=a))return n[o+c]};e.some(({parse:c})=>c(u,t))}}),t}var A0=m({"src/lib/utils/task-parser.ts"(){Br()}}),Bl={};q(Bl,{ExitCodes:()=>Mi,GitOutputStreams:()=>Gt,LineParser:()=>k,NOOP:()=>Ze,NULL:()=>yt,RemoteLineParser:()=>Ue,append:()=>x,appendTaskOptions:()=>Vi,asArray:()=>He,asFunction:()=>Ol,asNumber:()=>M,asStringArray:()=>Al,bufferToString:()=>Nt,callTaskParser:()=>Ei,createInstanceConfig:()=>jl,delay:()=>Oi,filterArray:()=>Vt,filterFunction:()=>ql,filterHasLength:()=>Yi,filterPlainObject:()=>Hi,filterPrimitives:()=>Ui,filterString:()=>J,filterStringArray:()=>Fl,filterStringOrStringArray:()=>Ar,filterType:()=>Te,first:()=>Pl,folderExists:()=>Gi,forEachLineWithContent:()=>Ni,getTrailingOptions:()=>ee,including:()=>$l,isUserFunction:()=>Ml,last:()=>Xe,objectToString:()=>Yt,parseStringResponse:()=>ue,pick:()=>Il,prefixedArray:()=>Bt,remove:()=>Lr,splitOn:()=>El,toLinesWithContent:()=>Ht,trailingFunctionArgument:()=>I,trailingOptionsArgument:()=>zi});var w=m({"src/lib/utils/index.ts"(){Dl(),O0(),M0(),E0(),P0(),$0(),A0(),Br()}}),Nl={};q(Nl,{CheckRepoActions:()=>Pi,checkIsBareRepoTask:()=>Ul,checkIsRepoRootTask:()=>Gl,checkIsRepoTask:()=>I0});function I0(t){switch(t){case"bare":return Ul();case"root":return Gl()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:Nr,parser:Ji}}function Gl(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:Nr,parser(e){return/^\.(git)?$/.test(e.trim())}}}function Ul(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:Nr,parser:Ji}}function q0(t){return/(Not a git repository|Kein Git-Repository)/i.test(String(t))}var Pi,Nr,Ji,Hl=m({"src/lib/tasks/check-is-repo.ts"(){w(),Pi=(t=>(t.BARE="bare",t.IN_TREE="tree",t.IS_REPO_ROOT="root",t))(Pi||{}),Nr=({exitCode:t},e,r,s)=>{if(t===128&&q0(e))return r(Buffer.from("false"));s(e)},Ji=t=>t.trim()==="true"}});function F0(t,e){let r=new Yl(t),s=t?zl:Vl;return Ht(e).forEach(i=>{let n=i.replace(s,"");r.paths.push(n),(Jl.test(n)?r.folders:r.files).push(n)}),r}var Yl,Vl,zl,Jl,D0=m({"src/lib/responses/CleanSummary.ts"(){w(),Yl=class{constructor(t){this.dryRun=t,this.paths=[],this.files=[],this.folders=[]}},Vl=/^[a-z]+\s*/i,zl=/^[a-z]+\s+[a-z]+\s*/i,Jl=/\/$/}}),Ri={};q(Ri,{EMPTY_COMMANDS:()=>Gr,adhocExecTask:()=>Wl,configurationErrorTask:()=>te,isBufferTask:()=>Kl,isEmptyTask:()=>Xl,straightThroughBufferTask:()=>Ql,straightThroughStringTask:()=>re});function Wl(t){return{commands:Gr,format:"empty",parser:t}}function te(t){return{commands:Gr,format:"empty",parser(){throw typeof t=="string"?new Sl(t):t}}}function re(t,e=!1){return{commands:t,format:"utf-8",parser(r){return e?String(r).trim():r}}}function Ql(t){return{commands:t,format:"buffer",parser(e){return e}}}function Kl(t){return t.format==="buffer"}function Xl(t){return t.format==="empty"||!t.commands.length}var Gr,D=m({"src/lib/tasks/task.ts"(){Cl(),Gr=[]}}),Zl={};q(Zl,{CONFIG_ERROR_INTERACTIVE_MODE:()=>Wi,CONFIG_ERROR_MODE_REQUIRED:()=>Qi,CONFIG_ERROR_UNKNOWN_OPTION:()=>Ki,CleanOptions:()=>Mr,cleanTask:()=>eh,cleanWithOptionsTask:()=>j0,isCleanOptionsArray:()=>L0});function j0(t,e){let{cleanMode:r,options:s,valid:i}=B0(t);return r?i.options?(s.push(...e),s.some(U0)?te(Wi):eh(r,s)):te(Ki+JSON.stringify(t)):te(Qi)}function eh(t,e){return{commands:["clean",`-${t}`,...e],format:"utf-8",parser(s){return F0(t==="n",s)}}}function L0(t){return Array.isArray(t)&&t.every(e=>Xi.has(e))}function B0(t){let e,r=[],s={cleanMode:!1,options:!0};return t.replace(/[^a-z]i/g,"").split("").forEach(i=>{N0(i)?(e=i,s.cleanMode=!0):s.options=s.options&&G0(r[r.length]=`-${i}`)}),{cleanMode:e,options:r,valid:s}}function N0(t){return t==="f"||t==="n"}function G0(t){return/^-[a-z]$/i.test(t)&&Xi.has(t.charAt(1))}function U0(t){return/^-[^\-]/.test(t)?t.indexOf("i")>0:t==="--interactive"}var Wi,Qi,Ki,Mr,Xi,th=m({"src/lib/tasks/clean.ts"(){D0(),w(),D(),Wi="Git clean interactive mode is not supported",Qi='Git clean mode parameter ("n" or "f") is required',Ki="Git clean unknown option found in: ",Mr=(t=>(t.DRY_RUN="n",t.FORCE="f",t.IGNORED_INCLUDED="x",t.IGNORED_ONLY="X",t.EXCLUDING="e",t.QUIET="q",t.RECURSIVE="d",t))(Mr||{}),Xi=new Set(["i",...Al(Object.values(Mr))])}});function H0(t){let e=new sh;for(let r of rh(t))e.addValue(r.file,String(r.key),r.value);return e}function Y0(t,e){let r=null,s=[],i=new Map;for(let n of rh(t,e))n.key===e&&(s.push(r=n.value),i.has(n.file)||i.set(n.file,[]),i.get(n.file).push(r));return{key:e,paths:Array.from(i.keys()),scopes:i,value:r,values:s}}function V0(t){return t.replace(/^(file):/,"")}function*rh(t,e=null){let r=t.split("\0");for(let s=0,i=r.length-1;s<i;){let n=V0(r[s++]),o=r[s++],a=e;if(o.includes(`
`)){let u=El(o,`
`);a=u[0],o=u[1]}yield{file:n,key:a,value:o}}}var sh,z0=m({"src/lib/responses/ConfigList.ts"(){w(),sh=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((t,e)=>Object.assign(t,this.values[e]),{})),this._all}addFile(t){if(!(t in this.values)){let e=Xe(this.files);this.values[t]=e?Object.create(this.values[e]):{},this.files.push(t)}return this.values[t]}addValue(t,e,r){let s=this.addFile(t);s.hasOwnProperty(e)?Array.isArray(s[e])?s[e].push(r):s[e]=[s[e],r]:s[e]=r,this._all=void 0}}}});function xi(t,e){return typeof t=="string"&&$i.hasOwnProperty(t)?t:e}function J0(t,e,r,s){let i=["config",`--${s}`];return r&&i.push("--add"),i.push(t,e),{commands:i,format:"utf-8",parser(n){return n}}}function W0(t,e){let r=["config","--null","--show-origin","--get-all",t];return e&&r.splice(1,0,`--${e}`),{commands:r,format:"utf-8",parser(s){return Y0(s,t)}}}function Q0(t){let e=["config","--list","--show-origin","--null"];return t&&e.push(`--${t}`),{commands:e,format:"utf-8",parser(r){return H0(r)}}}function K0(){return{addConfig(t,e,...r){return this._runTask(J0(t,e,r[0]===!0,xi(r[1],"local")),I(arguments))},getConfig(t,e){return this._runTask(W0(t,xi(e,void 0)),I(arguments))},listConfig(...t){return this._runTask(Q0(xi(t[0],void 0)),I(arguments))}}}var $i,ih=m({"src/lib/tasks/config.ts"(){z0(),w(),$i=(t=>(t.system="system",t.global="global",t.local="local",t.worktree="worktree",t))($i||{})}});function X0(...t){return new oh().param(...t)}function Z0(t){let e=new Set,r={};return Ni(t,s=>{let[i,n,o]=s.split(yt);e.add(i),(r[i]=r[i]||[]).push({line:M(n),path:i,preview:o})}),{paths:e,results:r}}function eb(){return{grep(t){let e=I(arguments),r=ee(arguments);for(let i of nh)if(r.includes(i))return this._runTask(te(`git.grep: use of "${i}" is not supported.`),e);typeof t=="string"&&(t=X0().param(t));let s=["grep","--null","-n","--full-name",...r,...t];return this._runTask({commands:s,format:"utf-8",parser(i){return Z0(i)}},e)}}}var nh,Dt,Qc,oh,ah=m({"src/lib/tasks/grep.ts"(){w(),D(),nh=["-h"],Dt=Symbol("grepQuery"),oh=class{constructor(){this[Qc]=[]}*[(Qc=Dt,Symbol.iterator)](){for(let t of this[Dt])yield t}and(...t){return t.length&&this[Dt].push("--and","(",...Bt(t,"-e"),")"),this}param(...t){return this[Dt].push(...Bt(t,"-e")),this}}}}),uh={};q(uh,{ResetMode:()=>Er,getResetMode:()=>rb,resetTask:()=>tb});function tb(t,e){let r=["reset"];return ch(t)&&r.push(`--${t}`),r.push(...e),re(r)}function rb(t){if(ch(t))return t;switch(typeof t){case"string":case"undefined":return"soft"}}function ch(t){return lh.includes(t)}var Er,lh,hh=m({"src/lib/tasks/reset.ts"(){D(),Er=(t=>(t.MIXED="mixed",t.SOFT="soft",t.HARD="hard",t.MERGE="merge",t.KEEP="keep",t))(Er||{}),lh=Array.from(Object.values(Er))}});function sb(){return(0,Ir.default)("simple-git")}function Kc(t,e,r){return!e||!String(e).replace(/\s*/,"")?r?(s,...i)=>{t(s,...i),r(s,...i)}:t:(s,...i)=>{t(`%s ${s}`,e,...i),r&&r(s,...i)}}function ib(t,e,{namespace:r}){if(typeof t=="string")return t;let s=e&&e.namespace||"";return s.startsWith(r)?s.substr(r.length+1):s||r}function Zi(t,e,r,s=sb()){let i=t&&`[${t}]`||"",n=[],o=typeof e=="string"?s.extend(e):e,a=ib(Te(e,J),o,s);return c(r);function u(h,l){return x(n,Zi(t,a.replace(/^[^:]+/,h),l,s))}function c(h){let l=h&&`[${h}]`||"",p=o&&Kc(o,l)||Ze,g=Kc(s,`${i} ${l}`,p);return Object.assign(o?p:g,{label:t,sibling:u,info:g,step:c})}}var dh=m({"src/lib/git-logger.ts"(){w(),Ir.default.formatters.L=t=>String(Yi(t)?t.length:"-"),Ir.default.formatters.B=t=>Buffer.isBuffer(t)?t.toString("utf8"):Yt(t)}}),Cr,Ai,nb=m({"src/lib/runners/tasks-pending-queue.ts"(){Ye(),dh(),Cr=class{constructor(t="GitExecutor"){this.logLabel=t,this._queue=new Map}withProgress(t){return this._queue.get(t)}createProgress(t){let e=Cr.getName(t.commands[0]),r=Zi(this.logLabel,e);return{task:t,logger:r,name:e}}push(t){let e=this.createProgress(t);return e.logger("Adding task to the queue, commands = %o",t.commands),this._queue.set(t,e),e}fatal(t){for(let[e,{logger:r}]of Array.from(this._queue.entries()))e===t.task?(r.info("Failed %o",t),r("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):r.info("A fatal exception occurred in a previous task, the queue has been purged: %o",t.message),this.complete(e);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(t){this.withProgress(t)&&this._queue.delete(t)}attempt(t){let e=this.withProgress(t);if(!e)throw new Fe(void 0,"TasksPendingQueue: attempt called for an unknown task");return e.logger("Starting task"),e}static getName(t="empty"){return`task:${t}:${++Cr.counter}`}},Ai=Cr,Ai.counter=0}});function gt(t,e){return{method:Pl(t.commands)||"",commands:e}}function ob(t,e){return r=>{e("[ERROR] child process exception %o",r),t.push(Buffer.from(String(r.stack),"ascii"))}}function Xc(t,e,r,s){return i=>{r("%s received %L bytes",e,i),s("%B",i),t.push(i)}}var Ii,ab=m({"src/lib/runners/git-executor-chain.ts"(){Ye(),D(),w(),nb(),Ii=class{constructor(t,e,r){this._executor=t,this._scheduler=e,this._plugins=r,this._chain=Promise.resolve(),this._queue=new Ai}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(t){this._cwd=t}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(t){return this._queue.push(t),this._chain=this._chain.then(()=>this.attemptTask(t))}attemptTask(t){return jt(this,null,function*(){let e=yield this._scheduler.next(),r=()=>this._queue.complete(t);try{let{logger:s}=this._queue.attempt(t);return yield Xl(t)?this.attemptEmptyTask(t,s):this.attemptRemoteTask(t,s)}catch(s){throw this.onFatalException(t,s)}finally{r(),e()}})}onFatalException(t,e){let r=e instanceof Fe?Object.assign(e,{task:t}):new Fe(t,e&&String(e));return this._chain=Promise.resolve(),this._queue.fatal(r),r}attemptRemoteTask(t,e){return jt(this,null,function*(){let r=this._plugins.exec("spawn.args",[...t.commands],gt(t,t.commands)),s=yield this.gitResponse(t,this.binary,r,this.outputHandler,e.step("SPAWN")),i=yield this.handleTaskData(t,r,s,e.step("HANDLE"));return e("passing response to task's parser as a %s",t.format),Kl(t)?Ei(t.parser,i):Ei(t.parser,i.asStrings())})}attemptEmptyTask(t,e){return jt(this,null,function*(){return e("empty task bypassing child process to call to task's parser"),t.parser(this)})}handleTaskData(t,e,r,s){let{exitCode:i,rejection:n,stdOut:o,stdErr:a}=r;return new Promise((u,c)=>{s("Preparing to handle process response exitCode=%d stdOut=",i);let{error:h}=this._plugins.exec("task.error",{error:n},he(he({},gt(t,e)),r));if(h&&t.onError)return s.info("exitCode=%s handling with custom error handler"),t.onError(r,h,l=>{s.info("custom error handler treated as success"),s("custom error returned a %s",Yt(l)),u(new Gt(Array.isArray(l)?Buffer.concat(l):l,Buffer.concat(a)))},c);if(h)return s.info("handling as error: exitCode=%s stdErr=%s rejection=%o",i,a.length,n),c(h);s.info("retrieving task output complete"),u(new Gt(Buffer.concat(o),Buffer.concat(a)))})}gitResponse(t,e,r,s,i){return jt(this,null,function*(){let n=i.sibling("output"),o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},gt(t,t.commands));return new Promise(a=>{let u=[],c=[];i.info("%s %o",e,r),i("%O",o);let h=this._beforeSpawn(t,r);if(h)return a({stdOut:u,stdErr:c,exitCode:9901,rejection:h});this._plugins.exec("spawn.before",void 0,Lt(he({},gt(t,r)),{kill(p){h=p||h}}));let l=(0,fh.spawn)(e,r,o);l.stdout.on("data",Xc(u,"stdOut",i,n.step("stdOut"))),l.stderr.on("data",Xc(c,"stdErr",i,n.step("stdErr"))),l.on("error",ob(c,i)),s&&(i("Passing child process stdOut/stdErr to custom outputHandler"),s(e,l.stdout,l.stderr,[...r])),this._plugins.exec("spawn.after",void 0,Lt(he({},gt(t,r)),{spawned:l,close(p,g){a({stdOut:u,stdErr:c,exitCode:p,rejection:h||g})},kill(p){l.killed||(h=p,l.kill("SIGINT"))}}))})})}_beforeSpawn(t,e){let r;return this._plugins.exec("spawn.before",void 0,Lt(he({},gt(t,e)),{kill(s){r=s||r}})),r}}}}),ph={};q(ph,{GitExecutor:()=>mh});var mh,ub=m({"src/lib/runners/git-executor.ts"(){ab(),mh=class{constructor(t="git",e,r,s){this.binary=t,this.cwd=e,this._scheduler=r,this._plugins=s,this._chain=new Ii(this,this._scheduler,this._plugins)}chain(){return new Ii(this,this._scheduler,this._plugins)}push(t){return this._chain.push(t)}}}});function cb(t,e,r=Ze){let s=n=>{r(null,n)},i=n=>{(n==null?void 0:n.task)===t&&r(n instanceof Ut?lb(n):n,void 0)};e.then(s,i)}function lb(t){let e=s=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${s} should be GitResponseError.git.${s}, this will no longer be available in version 3`),e=Ze};return Object.create(t,Object.getOwnPropertyNames(t.git).reduce(r,{}));function r(s,i){return i in t||(s[i]={enumerable:!1,configurable:!1,get(){return e(i),t.git[i]}}),s}}var hb=m({"src/lib/task-callback.ts"(){vt(),w()}});function Zc(t,e){return Wl(r=>{if(!Gi(t))throw new Error(`Git.cwd: cannot change to non-directory "${t}"`);return(e||r).cwd=t})}var db=m({"src/lib/tasks/change-working-directory.ts"(){w(),D()}});function _i(t){let e=["checkout",...t];return e[1]==="-b"&&e.includes("-B")&&(e[1]=Lr(e,"-B")),re(e)}function fb(){return{checkout(){return this._runTask(_i(ee(arguments,1)),I(arguments))},checkoutBranch(t,e){return this._runTask(_i(["-b",t,e,...ee(arguments)]),I(arguments))},checkoutLocalBranch(t){return this._runTask(_i(["-b",t,...ee(arguments)]),I(arguments))}}}var pb=m({"src/lib/tasks/checkout.ts"(){w(),D()}});function mb(t){return ue({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},gh,t)}var gh,gb=m({"src/lib/parsers/parse-commit.ts"(){w(),gh=[new k(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(t,[e,r,s])=>{t.branch=e,t.commit=s,t.root=!!r}),new k(/\s*Author:\s(.+)/i,(t,[e])=>{let r=e.split("<"),s=r.pop();!s||!s.includes("@")||(t.author={email:s.substr(0,s.length-1),name:r.join("<").trim()})}),new k(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(t,[e,r,s])=>{t.summary.changes=parseInt(e,10)||0,t.summary.insertions=parseInt(r,10)||0,t.summary.deletions=parseInt(s,10)||0}),new k(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(t,[e,r,s])=>{t.summary.changes=parseInt(e,10)||0;let i=parseInt(r,10)||0;s==="-"?t.summary.deletions=i:s==="+"&&(t.summary.insertions=i)})]}});function bb(t,e,r){return{commands:["-c","core.abbrev=40","commit",...Bt(t,"-m"),...e,...r],format:"utf-8",parser:mb}}function yb(){return{commit(e,...r){let s=I(arguments),i=t(e)||bb(He(e),He(Te(r[0],Ar,[])),[...Te(r[1],Vt,[]),...ee(arguments,0,!0)]);return this._runTask(i,s)}};function t(e){return!Ar(e)&&te("git.commit: requires the commit message to be supplied as a string/string[]")}}var vb=m({"src/lib/tasks/commit.ts"(){gb(),w(),D()}});function wb(t,e){let r=["hash-object",t];return e&&r.push("-w"),re(r,!0)}var kb=m({"src/lib/tasks/hash-object.ts"(){D()}});function xb(t,e,r){let s=String(r).trim(),i;if(i=bh.exec(s))return new Pr(t,e,!1,i[1]);if(i=yh.exec(s))return new Pr(t,e,!0,i[1]);let n="",o=s.split(" ");for(;o.length;)if(o.shift()==="in"){n=o.join(" ");break}return new Pr(t,e,/^re/i.test(s),n)}var Pr,bh,yh,_b=m({"src/lib/responses/InitSummary.ts"(){Pr=class{constructor(t,e,r,s){this.bare=t,this.path=e,this.existing=r,this.gitDir=s}},bh=/^Init.+ repository in (.+)$/,yh=/^Rein.+ in (.+)$/}});function Tb(t){return t.includes(en)}function Sb(t=!1,e,r){let s=["init",...r];return t&&!Tb(s)&&s.splice(1,0,en),{commands:s,format:"utf-8",parser(i){return xb(s.includes("--bare"),e,i)}}}var en,Cb=m({"src/lib/tasks/init.ts"(){_b(),en="--bare"}});function tn(t){for(let e=0;e<t.length;e++){let r=rn.exec(t[e]);if(r)return`--${r[1]}`}return""}function Ob(t){return rn.test(t)}var rn,zt=m({"src/lib/args/log-format.ts"(){rn=/^--(stat|numstat|name-only|name-status)(=|$)/}}),vh,Mb=m({"src/lib/responses/DiffSummary.ts"(){vh=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function wh(t=""){let e=kh[t];return r=>ue(new vh,e,r,!1)}var Ti,el,tl,rl,kh,xh=m({"src/lib/parsers/parse-diff-summary.ts"(){zt(),Mb(),w(),Ti=[new k(/(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(t,[e,r,s=""])=>{t.files.push({file:e.trim(),changes:M(r),insertions:s.replace(/[^+]/g,"").length,deletions:s.replace(/[^-]/g,"").length,binary:!1})}),new k(/(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(t,[e,r,s])=>{t.files.push({file:e.trim(),before:M(r),after:M(s),binary:!0})}),new k(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(t,[e,r])=>{let s=/(\d+) i/.exec(r),i=/(\d+) d/.exec(r);t.changed=M(e),t.insertions=M(s==null?void 0:s[1]),t.deletions=M(i==null?void 0:i[1])})],el=[new k(/(\d+)\t(\d+)\t(.+)$/,(t,[e,r,s])=>{let i=M(e),n=M(r);t.changed++,t.insertions+=i,t.deletions+=n,t.files.push({file:s,changes:i+n,insertions:i,deletions:n,binary:!1})}),new k(/-\t-\t(.+)$/,(t,[e])=>{t.changed++,t.files.push({file:e,after:0,before:0,binary:!0})})],tl=[new k(/(.+)$/,(t,[e])=>{t.changed++,t.files.push({file:e,changes:0,insertions:0,deletions:0,binary:!1})})],rl=[new k(/([ACDMRTUXB])\s*(.+)$/,(t,[e,r])=>{t.changed++,t.files.push({file:r,changes:0,insertions:0,deletions:0,binary:!1})})],kh={[""]:Ti,["--stat"]:Ti,["--numstat"]:el,["--name-status"]:rl,["--name-only"]:tl}}});function Eb(t,e){return e.reduce((r,s,i)=>(r[s]=t[i]||"",r),Object.create({diff:null}))}function _h(t=on,e=Th,r=""){let s=wh(r);return function(i){let n=Ht(i,!0,sn).map(function(o){let a=o.trim().split(nn),u=Eb(a[0].trim().split(t),e);return a.length>1&&a[1].trim()&&(u.diff=s(a[1])),u});return{all:n,latest:n.length&&n[0]||null,total:n.length}}}var sn,nn,on,Th,Sh=m({"src/lib/parsers/parse-list-log-summary.ts"(){w(),xh(),zt(),sn="\xF2\xF2\xF2\xF2\xF2\xF2 ",nn=" \xF2\xF2",on=" \xF2 ",Th=["hash","date","message","refs","author_name","author_email"]}}),Ch={};q(Ch,{diffSummaryTask:()=>Pb,validateLogFormatConfig:()=>Ur});function Pb(t){let e=tn(t),r=["diff"];return e===""&&(e="--stat",r.push("--stat=4096")),r.push(...t),Ur(r)||{commands:r,format:"utf-8",parser:wh(e)}}function Ur(t){let e=t.filter(Ob);if(e.length>1)return te(`Summary flags are mutually exclusive - pick one of ${e.join(",")}`);if(e.length&&t.includes("-z"))return te(`Summary flag ${e} parsing is not compatible with null termination option '-z'`)}var an=m({"src/lib/tasks/diff.ts"(){zt(),xh(),D()}});function Rb(t,e){let r=[],s=[];return Object.keys(t).forEach(i=>{r.push(i),s.push(String(t[i]))}),[r,s.join(e)]}function $b(t){return Object.keys(t).reduce((e,r)=>(r in qi||(e[r]=t[r]),e),{})}function Oh(t={},e=[]){let r=Te(t.splitter,J,on),s=!Ui(t.format)&&t.format?t.format:{hash:"%H",date:t.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:t.multiLine?"%B":"%b",author_name:t.mailMap!==!1?"%aN":"%an",author_email:t.mailMap!==!1?"%aE":"%ae"},[i,n]=Rb(s,r),o=[],a=[`--pretty=format:${sn}${n}${nn}`,...e],u=t.n||t["max-count"]||t.maxCount;if(u&&a.push(`--max-count=${u}`),t.from||t.to){let c=t.symmetric!==!1?"...":"..";o.push(`${t.from||""}${c}${t.to||""}`)}return J(t.file)&&o.push("--follow",t.file),Vi($b(t),a),{fields:i,splitter:r,commands:[...a,...o]}}function Ab(t,e,r){let s=_h(t,e,tn(r));return{commands:["log",...r],format:"utf-8",parser:s}}function Ib(){return{log(...r){let s=I(arguments),i=Oh(zi(arguments),Te(arguments[0],Vt)),n=e(...r)||Ur(i.commands)||t(i);return this._runTask(n,s)}};function t(r){return Ab(r.splitter,r.fields,r.commands)}function e(r,s){return J(r)&&J(s)&&te("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var qi,Mh=m({"src/lib/tasks/log.ts"(){zt(),Sh(),w(),D(),an(),qi=(t=>(t[t["--pretty"]=0]="--pretty",t[t["max-count"]=1]="max-count",t[t.maxCount=2]="maxCount",t[t.n=3]="n",t[t.file=4]="file",t[t.format=5]="format",t[t.from=6]="from",t[t.to=7]="to",t[t.splitter=8]="splitter",t[t.symmetric=9]="symmetric",t[t.mailMap=10]="mailMap",t[t.multiLine=11]="multiLine",t[t.strictDate=12]="strictDate",t))(qi||{})}}),Rr,Eh,qb=m({"src/lib/responses/MergeSummary.ts"(){Rr=class{constructor(t,e=null,r){this.reason=t,this.file=e,this.meta=r}toString(){return`${this.file}:${this.reason}`}},Eh=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Fi,Ph,Fb=m({"src/lib/responses/PullSummary.ts"(){Fi=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},Ph=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function Si(t){return t.objects=t.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function sl(t){let e=/^\s*(\d+)/.exec(t),r=/delta (\d+)/i.exec(t);return{count:M(e&&e[1]||"0"),delta:M(r&&r[1]||"0")}}var Rh,Db=m({"src/lib/parsers/parse-remote-objects.ts"(){w(),Rh=[new Ue(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(t,[e,r])=>{let s=e.toLowerCase(),i=Si(t.remoteMessages);Object.assign(i,{[s]:M(r)})}),new Ue(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(t,[e,r])=>{let s=e.toLowerCase(),i=Si(t.remoteMessages);Object.assign(i,{[s]:M(r)})}),new Ue(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(t,[e,r,s])=>{let i=Si(t.remoteMessages);i.total=sl(e),i.reused=sl(r),i.packReused=M(s)})]}});function $h(t,e){return ue({remoteMessages:new Ih},Ah,e)}var Ah,Ih,qh=m({"src/lib/parsers/parse-remote-messages.ts"(){w(),Db(),Ah=[new Ue(/^remote:\s*(.+)$/,(t,[e])=>(t.remoteMessages.all.push(e.trim()),!1)),...Rh,new Ue([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(t,[e])=>{t.remoteMessages.pullRequestUrl=e}),new Ue([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(t,[e,r,s])=>{t.remoteMessages.vulnerabilities={count:M(e),summary:r,url:s}})],Ih=class{constructor(){this.all=[]}}}});function jb(t,e){let r=ue(new Ph,Fh,[t,e]);return r.message&&r}var il,nl,ol,al,Fh,ul,un,Dh=m({"src/lib/parsers/parse-pull.ts"(){Fb(),w(),qh(),il=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,nl=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,ol=/^(create|delete) mode \d+ (.+)/,al=[new k(il,(t,[e,r,s])=>{t.files.push(e),r&&(t.insertions[e]=r.length),s&&(t.deletions[e]=s.length)}),new k(nl,(t,[e,,r,,s])=>r!==void 0||s!==void 0?(t.summary.changes=+e||0,t.summary.insertions=+r||0,t.summary.deletions=+s||0,!0):!1),new k(ol,(t,[e,r])=>{x(t.files,r),x(e==="create"?t.created:t.deleted,r)})],Fh=[new k(/^from\s(.+)$/i,(t,[e])=>void(t.remote=e)),new k(/^fatal:\s(.+)$/,(t,[e])=>void(t.message=e)),new k(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(t,[e,r,s,i])=>{t.branch.local=s,t.hash.local=e,t.branch.remote=i,t.hash.remote=r})],ul=(t,e)=>ue(new Fi,al,[t,e]),un=(t,e)=>Object.assign(new Fi,ul(t,e),$h(t,e))}}),cl,jh,ll,Lb=m({"src/lib/parsers/parse-merge.ts"(){qb(),w(),Dh(),cl=[new k(/^Auto-merging\s+(.+)$/,(t,[e])=>{t.merges.push(e)}),new k(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(t,[e,r])=>{t.conflicts.push(new Rr(e,r))}),new k(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(t,[e,r,s])=>{t.conflicts.push(new Rr(e,r,{deleteRef:s}))}),new k(/^CONFLICT\s+\((.+)\):/,(t,[e])=>{t.conflicts.push(new Rr(e,null))}),new k(/^Automatic merge failed;\s+(.+)$/,(t,[e])=>{t.result=e})],jh=(t,e)=>Object.assign(ll(t,e),un(t,e)),ll=t=>ue(new Eh,cl,t)}});function hl(t){return t.length?{commands:["merge",...t],format:"utf-8",parser(e,r){let s=jh(e,r);if(s.failed)throw new Ut(s);return s}}:te("Git.merge requires at least one option")}var Bb=m({"src/lib/tasks/merge.ts"(){vt(),Lb(),D()}});function Nb(t,e,r){let s=r.includes("deleted"),i=r.includes("tag")||/^refs\/tags/.test(t),n=!r.includes("new");return{deleted:s,tag:i,branch:!i,new:!n,alreadyUpdated:n,local:t,remote:e}}var dl,Lh,fl,Gb=m({"src/lib/parsers/parse-push.ts"(){w(),qh(),dl=[new k(/^Pushing to (.+)$/,(t,[e])=>{t.repo=e}),new k(/^updating local tracking ref '(.+)'/,(t,[e])=>{t.ref=Lt(he({},t.ref||{}),{local:e})}),new k(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(t,[e,r,s])=>{t.pushed.push(Nb(e,r,s))}),new k(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(t,[e,r,s])=>{t.branch=Lt(he({},t.branch||{}),{local:e,remote:r,remoteName:s})}),new k(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(t,[e,r,s,i])=>{t.update={head:{local:e,remote:r},hash:{from:s,to:i}}})],Lh=(t,e)=>{let r=fl(t,e),s=$h(t,e);return he(he({},r),s)},fl=(t,e)=>ue({pushed:[]},dl,[t,e])}}),Bh={};q(Bh,{pushTagsTask:()=>Ub,pushTask:()=>cn});function Ub(t={},e){return x(e,"--tags"),cn(t,e)}function cn(t={},e){let r=["push",...e];return t.branch&&r.splice(1,0,t.branch),t.remote&&r.splice(1,0,t.remote),Lr(r,"-v"),x(r,"--verbose"),x(r,"--porcelain"),{commands:r,format:"utf-8",parser:Lh}}var Nh=m({"src/lib/tasks/push.ts"(){Gb(),w()}});function Hb(){return{showBuffer(){let t=["show",...ee(arguments,1)];return t.includes("--binary")||t.splice(1,0,"--binary"),this._runTask(Ql(t),I(arguments))},show(){let t=["show",...ee(arguments,1)];return this._runTask(re(t),I(arguments))}}}var Yb=m({"src/lib/tasks/show.ts"(){w(),D()}}),pl,Gh,Vb=m({"src/lib/responses/FileStatusSummary.ts"(){pl=/^(.+) -> (.+)$/,Gh=class{constructor(t,e,r){if(this.path=t,this.index=e,this.working_dir=r,e+r==="R"){let s=pl.exec(t)||[null,t,t];this.from=s[1]||"",this.path=s[2]||""}}}}});function ml(t){let[e,r]=t.split(yt);return{from:r||e,to:e}}function ae(t,e,r){return[`${t}${e}`,r]}function Ci(t,...e){return e.map(r=>ae(t,r,(s,i)=>x(s.conflicted,i)))}function zb(t,e){let r=e.trim();switch(" "){case r.charAt(2):return s(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return s(" ",r.charAt(0),r.substr(2));default:return}function s(i,n,o){let a=`${i}${n}`,u=Uh.get(a);u&&u(t,o),a!=="##"&&a!=="!!"&&t.files.push(new Gh(o.replace(/\0.+$/,""),i,n))}}var gl,Uh,Hh,Jb=m({"src/lib/responses/StatusSummary.ts"(){w(),Vb(),gl=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},Uh=new Map([ae(" ","A",(t,e)=>x(t.created,e)),ae(" ","D",(t,e)=>x(t.deleted,e)),ae(" ","M",(t,e)=>x(t.modified,e)),ae("A"," ",(t,e)=>x(t.created,e)&&x(t.staged,e)),ae("A","M",(t,e)=>x(t.created,e)&&x(t.staged,e)&&x(t.modified,e)),ae("D"," ",(t,e)=>x(t.deleted,e)&&x(t.staged,e)),ae("M"," ",(t,e)=>x(t.modified,e)&&x(t.staged,e)),ae("M","M",(t,e)=>x(t.modified,e)&&x(t.staged,e)),ae("R"," ",(t,e)=>{x(t.renamed,ml(e))}),ae("R","M",(t,e)=>{let r=ml(e);x(t.renamed,r),x(t.modified,r.to)}),ae("!","!",(t,e)=>{x(t.ignored=t.ignored||[],e)}),ae("?","?",(t,e)=>x(t.not_added,e)),...Ci("A","A","U"),...Ci("D","D","U"),...Ci("U","A","D","U"),["##",(t,e)=>{let r=/ahead (\d+)/,s=/behind (\d+)/,i=/^(.+?(?=(?:\.{3}|\s|$)))/,n=/\.{3}(\S*)/,o=/\son\s([\S]+)$/,a;a=r.exec(e),t.ahead=a&&+a[1]||0,a=s.exec(e),t.behind=a&&+a[1]||0,a=i.exec(e),t.current=a&&a[1],a=n.exec(e),t.tracking=a&&a[1],a=o.exec(e),t.current=a&&a[1]||t.current,t.detached=/\(no branch\)/.test(e)}]]),Hh=function(t){let e=t.split(yt),r=new gl;for(let s=0,i=e.length;s<i;){let n=e[s++].trim();n&&(n.charAt(0)==="R"&&(n+=yt+(e[s++]||"")),zb(r,n))}return r}}});function Wb(t){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...t.filter(r=>!Yh.includes(r))],parser(r){return Hh(r)}}}var Yh,Qb=m({"src/lib/tasks/status.ts"(){Jb(),Yh=["--null","-z"]}});function qr(t=0,e=0,r=0,s="",i=!0){return Object.defineProperty({major:t,minor:e,patch:r,agent:s,installed:i},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function Kb(){return qr(0,0,0,"",!1)}function Xb(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:Zb,onError(t,e,r,s){if(t.exitCode===-2)return r(Buffer.from(ln));s(e)}})}}}function Zb(t){return t===ln?Kb():ue(qr(0,0,0,t),Vh,t)}var ln,Vh,ey=m({"src/lib/tasks/version.ts"(){w(),ln="installed=false",Vh=[new k(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(t,[e,r,s,i=""])=>{Object.assign(t,qr(M(e),M(r),M(s),i))}),new k(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(t,[e,r,s,i=""])=>{Object.assign(t,qr(M(e),M(r),s,i))})]}}),zh={};q(zh,{SimpleGitApi:()=>Di});var Di,ty=m({"src/lib/simple-git-api.ts"(){hb(),db(),pb(),vb(),ih(),ah(),kb(),Cb(),Mh(),Bb(),Nh(),Yb(),Qb(),D(),ey(),w(),Di=class{constructor(t){this._executor=t}_runTask(t,e){let r=this._executor.chain(),s=r.push(t);return e&&cb(t,s,e),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:r}})}add(t){return this._runTask(re(["add",...He(t)]),I(arguments))}cwd(t){let e=I(arguments);return typeof t=="string"?this._runTask(Zc(t,this._executor),e):typeof(t==null?void 0:t.path)=="string"?this._runTask(Zc(t.path,t.root&&this._executor||void 0),e):this._runTask(te("Git.cwd: workingDirectory must be supplied as a string"),e)}hashObject(t,e){return this._runTask(wb(t,e===!0),I(arguments))}init(t){return this._runTask(Sb(t===!0,this._executor.cwd,ee(arguments)),I(arguments))}merge(){return this._runTask(hl(ee(arguments)),I(arguments))}mergeFromTo(t,e){return J(t)&&J(e)?this._runTask(hl([t,e,...ee(arguments)]),I(arguments,!1)):this._runTask(te("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(t){return this._executor.outputHandler=t,this}push(){let t=cn({remote:Te(arguments[0],J),branch:Te(arguments[1],J)},ee(arguments));return this._runTask(t,I(arguments))}stash(){return this._runTask(re(["stash",...ee(arguments)]),I(arguments))}status(){return this._runTask(Wb(ee(arguments)),I(arguments))}},Object.assign(Di.prototype,fb(),yb(),K0(),eb(),Ib(),Hb(),Xb())}}),Jh={};q(Jh,{Scheduler:()=>Qh});var bl,Qh,ry=m({"src/lib/runners/scheduler.ts"(){w(),dh(),bl=(()=>{let t=0;return()=>{t++;let{promise:e,done:r}=(0,Wh.createDeferred)();return{promise:e,done:r,id:t}}})(),Qh=class{constructor(t=2){this.concurrency=t,this.logger=Zi("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",t)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let t=x(this.running,this.pending.shift());this.logger("Attempting id=%s",t.id),t.done(()=>{this.logger("Completing id=",t.id),Lr(this.running,t),this.schedule()})}next(){let{promise:t,id:e}=x(this.pending,bl());return this.logger("Scheduling id=%s",e),this.schedule(),t}}}}),Kh={};q(Kh,{applyPatchTask:()=>sy});function sy(t,e){return re(["apply",...e,...t])}var iy=m({"src/lib/tasks/apply-patch.ts"(){D()}});function ny(t,e){return{branch:t,hash:e,success:!0}}function oy(t){return{branch:t,hash:null,success:!1}}var Xh,ay=m({"src/lib/responses/BranchDeleteSummary.ts"(){Xh=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function Zh(t,e){return e===1&&ji.test(t)}var yl,ji,vl,Hr,uy=m({"src/lib/parsers/parse-branch-delete.ts"(){ay(),w(),yl=/(\S+)\s+\(\S+\s([^)]+)\)/,ji=/^error[^']+'([^']+)'/m,vl=[new k(yl,(t,[e,r])=>{let s=ny(e,r);t.all.push(s),t.branches[e]=s}),new k(ji,(t,[e])=>{let r=oy(e);t.errors.push(r),t.all.push(r),t.branches[e]=r})],Hr=(t,e)=>ue(new Xh,vl,[t,e])}}),ed,cy=m({"src/lib/responses/BranchSummary.ts"(){ed=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(t,e,r,s,i){t==="*"&&(this.detached=e,this.current=r),this.all.push(r),this.branches[r]={current:t==="*",linkedWorkTree:t==="+",name:r,commit:s,label:i}}}}});function wl(t){return t?t.charAt(0):""}function td(t){return ue(new ed,rd,t)}var rd,ly=m({"src/lib/parsers/parse-branch.ts"(){cy(),w(),rd=[new k(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(t,[e,r,s,i])=>{t.push(wl(e),!0,r,s,i)}),new k(/^([*+]\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(t,[e,r,s,i])=>{t.push(wl(e),!1,r,s,i)})]}}),sd={};q(sd,{branchLocalTask:()=>dy,branchTask:()=>hy,containsDeleteBranchCommand:()=>id,deleteBranchTask:()=>py,deleteBranchesTask:()=>fy});function id(t){let e=["-d","-D","--delete"];return t.some(r=>e.includes(r))}function hy(t){let e=id(t),r=["branch",...t];return r.length===1&&r.push("-a"),r.includes("-v")||r.splice(1,0,"-v"),{format:"utf-8",commands:r,parser(s,i){return e?Hr(s,i).all[0]:td(s)}}}function dy(){return{format:"utf-8",commands:["branch","-v"],parser:td}}function fy(t,e=!1){return{format:"utf-8",commands:["branch","-v",e?"-D":"-d",...t],parser(r,s){return Hr(r,s)},onError({exitCode:r,stdOut:s},i,n,o){if(!Zh(String(i),r))return o(i);n(s)}}}function py(t,e=!1){let r={format:"utf-8",commands:["branch","-v",e?"-D":"-d",t],parser(s,i){return Hr(s,i).branches[t]},onError({exitCode:s,stdErr:i,stdOut:n},o,a,u){if(!Zh(String(o),s))return u(o);throw new Ut(r.parser(Nt(n),Nt(i)),String(o))}};return r}var my=m({"src/lib/tasks/branch.ts"(){vt(),uy(),ly(),w()}}),nd,gy=m({"src/lib/responses/CheckIgnore.ts"(){nd=t=>t.split(/\n/g).map(e=>e.trim()).filter(e=>!!e)}}),od={};q(od,{checkIgnoreTask:()=>by});function by(t){return{commands:["check-ignore",...t],format:"utf-8",parser:nd}}var yy=m({"src/lib/tasks/check-ignore.ts"(){gy()}}),ad={};q(ad,{cloneMirrorTask:()=>wy,cloneTask:()=>ud});function vy(t){return/^--upload-pack(=|$)/.test(t)}function ud(t,e,r){let s=["clone",...r];return J(t)&&s.push(t),J(e)&&s.push(e),s.find(vy)?te("git.fetch: potential exploit argument blocked."):re(s)}function wy(t,e,r){return x(r,"--mirror"),ud(t,e,r)}var ky=m({"src/lib/tasks/clone.ts"(){D(),w()}});function xy(t,e){return ue({raw:t,remote:null,branches:[],tags:[],updated:[],deleted:[]},cd,[t,e])}var cd,_y=m({"src/lib/parsers/parse-fetch.ts"(){w(),cd=[new k(/From (.+)$/,(t,[e])=>{t.remote=e}),new k(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(t,[e,r])=>{t.branches.push({name:e,tracking:r})}),new k(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(t,[e,r])=>{t.tags.push({name:e,tracking:r})}),new k(/- \[deleted]\s+\S+\s*-> (.+)$/,(t,[e])=>{t.deleted.push({tracking:e})}),new k(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(t,[e,r,s,i])=>{t.updated.push({name:s,tracking:i,to:r,from:e})})]}}),ld={};q(ld,{fetchTask:()=>Sy});function Ty(t){return/^--upload-pack(=|$)/.test(t)}function Sy(t,e,r){let s=["fetch",...r];return t&&e&&s.push(t,e),s.find(Ty)?te("git.fetch: potential exploit argument blocked."):{commands:s,format:"utf-8",parser:xy}}var Cy=m({"src/lib/tasks/fetch.ts"(){_y(),D()}});function Oy(t){return ue({moves:[]},hd,t)}var hd,My=m({"src/lib/parsers/parse-move.ts"(){w(),hd=[new k(/^Renaming (.+) to (.+)$/,(t,[e,r])=>{t.moves.push({from:e,to:r})})]}}),dd={};q(dd,{moveTask:()=>Ey});function Ey(t,e){return{commands:["mv","-v",...He(t),e],format:"utf-8",parser:Oy}}var Py=m({"src/lib/tasks/move.ts"(){My(),w()}}),fd={};q(fd,{pullTask:()=>Ry});function Ry(t,e,r){let s=["pull",...r];return t&&e&&s.splice(1,0,t,e),{commands:s,format:"utf-8",parser(i,n){return un(i,n)},onError(i,n,o,a){let u=jb(Nt(i.stdOut),Nt(i.stdErr));if(u)return a(new Ut(u));a(n)}}}var $y=m({"src/lib/tasks/pull.ts"(){vt(),Dh(),w()}});function Ay(t){let e={};return pd(t,([r])=>e[r]={name:r}),Object.values(e)}function Iy(t){let e={};return pd(t,([r,s,i])=>{e.hasOwnProperty(r)||(e[r]={name:r,refs:{fetch:"",push:""}}),i&&s&&(e[r].refs[i.replace(/[^a-z]/g,"")]=s)}),Object.values(e)}function pd(t,e){Ni(t,r=>e(r.split(/\s+/)))}var qy=m({"src/lib/responses/GetRemoteSummary.ts"(){w()}}),md={};q(md,{addRemoteTask:()=>Fy,getRemotesTask:()=>Dy,listRemotesTask:()=>jy,remoteTask:()=>Ly,removeRemoteTask:()=>By});function Fy(t,e,r=[]){return re(["remote","add",...r,t,e])}function Dy(t){let e=["remote"];return t&&e.push("-v"),{commands:e,format:"utf-8",parser:t?Iy:Ay}}function jy(t=[]){let e=[...t];return e[0]!=="ls-remote"&&e.unshift("ls-remote"),re(e)}function Ly(t=[]){let e=[...t];return e[0]!=="remote"&&e.unshift("remote"),re(e)}function By(t){return re(["remote","remove",t])}var Ny=m({"src/lib/tasks/remote.ts"(){qy(),D()}}),gd={};q(gd,{stashListTask:()=>Gy});function Gy(t={},e){let r=Oh(t),s=["stash","list",...r.commands,...e],i=_h(r.splitter,r.fields,tn(s));return Ur(s)||{commands:s,format:"utf-8",parser:i}}var Uy=m({"src/lib/tasks/stash-list.ts"(){zt(),Sh(),an(),Mh()}}),bd={};q(bd,{addSubModuleTask:()=>Hy,initSubModuleTask:()=>Yy,subModuleTask:()=>Yr,updateSubModuleTask:()=>Vy});function Hy(t,e){return Yr(["add",t,e])}function Yy(t){return Yr(["init",...t])}function Yr(t){let e=[...t];return e[0]!=="submodule"&&e.unshift("submodule"),re(e)}function Vy(t){return Yr(["update",...t])}var zy=m({"src/lib/tasks/sub-module.ts"(){D()}});function Jy(t,e){let r=isNaN(t),s=isNaN(e);return r!==s?r?1:-1:r?yd(t,e):0}function yd(t,e){return t===e?0:t>e?1:-1}function Wy(t){return t.trim()}function Or(t){return typeof t=="string"&&parseInt(t.replace(/^\D+/g,""),10)||0}var kl,vd,Qy=m({"src/lib/responses/TagList.ts"(){kl=class{constructor(t,e){this.all=t,this.latest=e}},vd=function(t,e=!1){let r=t.split(`
`).map(Wy).filter(Boolean);e||r.sort(function(i,n){let o=i.split("."),a=n.split(".");if(o.length===1||a.length===1)return Jy(Or(o[0]),Or(a[0]));for(let u=0,c=Math.max(o.length,a.length);u<c;u++){let h=yd(Or(o[u]),Or(a[u]));if(h)return h}return 0});let s=e?r[0]:[...r].reverse().find(i=>i.indexOf(".")>=0);return new kl(r,s)}}}),wd={};q(wd,{addAnnotatedTagTask:()=>Zy,addTagTask:()=>Xy,tagListTask:()=>Ky});function Ky(t=[]){let e=t.some(r=>/^--sort=/.test(r));return{format:"utf-8",commands:["tag","-l",...t],parser(r){return vd(r,e)}}}function Xy(t){return{format:"utf-8",commands:["tag",t],parser(){return{name:t}}}}function Zy(t,e){return{format:"utf-8",commands:["tag","-a","-m",e,t],parser(){return{name:t}}}}var ev=m({"src/lib/tasks/tag.ts"(){Qy()}}),tv=S0({"src/git.js"(t,e){var{GitExecutor:r}=(ub(),$(ph)),{SimpleGitApi:s}=(ty(),$(zh)),{Scheduler:i}=(ry(),$(Jh)),{configurationErrorTask:n}=(D(),$(Ri)),{asArray:o,filterArray:a,filterPrimitives:u,filterString:c,filterStringOrStringArray:h,filterType:l,getTrailingOptions:p,trailingFunctionArgument:g,trailingOptionsArgument:G}=(w(),$(Bl)),{applyPatchTask:U}=(iy(),$(Kh)),{branchTask:O,branchLocalTask:A,deleteBranchesTask:ie,deleteBranchTask:Oe}=(my(),$(sd)),{checkIgnoreTask:Ve}=(yy(),$(od)),{checkIsRepoTask:Jr}=(Hl(),$(Nl)),{cloneTask:_,cloneMirrorTask:V}=(ky(),$(ad)),{cleanWithOptionsTask:z,isCleanOptionsArray:Me}=(th(),$(Zl)),{diffSummaryTask:De}=(an(),$(Ch)),{fetchTask:kt}=(Cy(),$(ld)),{moveTask:Id}=(Py(),$(dd)),{pullTask:qd}=($y(),$(fd)),{pushTagsTask:Fd}=(Nh(),$(Bh)),{addRemoteTask:Dd,getRemotesTask:jd,listRemotesTask:Ld,remoteTask:Bd,removeRemoteTask:Nd}=(Ny(),$(md)),{getResetMode:Gd,resetTask:Ud}=(hh(),$(uh)),{stashListTask:Hd}=(Uy(),$(gd)),{addSubModuleTask:Yd,initSubModuleTask:Vd,subModuleTask:zd,updateSubModuleTask:Jd}=(zy(),$(bd)),{addAnnotatedTagTask:Wd,addTagTask:Qd,tagListTask:Kd}=(ev(),$(wd)),{straightThroughBufferTask:Xd,straightThroughStringTask:be}=(D(),$(Ri));function v(f,y){this._executor=new r(f.binary,f.baseDir,new i(f.maxConcurrentProcesses),y),this._trimmed=f.trimmed}(v.prototype=Object.create(s.prototype)).constructor=v,v.prototype.customBinary=function(f){return this._executor.binary=f,this},v.prototype.env=function(f,y){return arguments.length===1&&typeof f=="object"?this._executor.env=f:(this._executor.env=this._executor.env||{})[f]=y,this},v.prototype.stashList=function(f){return this._runTask(Hd(G(arguments)||{},a(f)&&f||[]),g(arguments))};function dn(f,y,S,Q){return typeof S!="string"?n(`git.${f}() requires a string 'repoPath'`):y(S,l(Q,c),p(arguments))}v.prototype.clone=function(){return this._runTask(dn("clone",_,...arguments),g(arguments))},v.prototype.mirror=function(){return this._runTask(dn("mirror",V,...arguments),g(arguments))},v.prototype.mv=function(f,y){return this._runTask(Id(f,y),g(arguments))},v.prototype.checkoutLatestTag=function(f){var y=this;return this.pull(function(){y.tags(function(S,Q){y.checkout(Q.latest,f)})})},v.prototype.pull=function(f,y,S,Q){return this._runTask(qd(l(f,c),l(y,c),p(arguments)),g(arguments))},v.prototype.fetch=function(f,y){return this._runTask(kt(l(f,c),l(y,c),p(arguments)),g(arguments))},v.prototype.silent=function(f){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},v.prototype.tags=function(f,y){return this._runTask(Kd(p(arguments)),g(arguments))},v.prototype.rebase=function(){return this._runTask(be(["rebase",...p(arguments)]),g(arguments))},v.prototype.reset=function(f){return this._runTask(Ud(Gd(f),p(arguments)),g(arguments))},v.prototype.revert=function(f){let y=g(arguments);return typeof f!="string"?this._runTask(n("Commit must be a string"),y):this._runTask(be(["revert",...p(arguments,0,!0),f]),y)},v.prototype.addTag=function(f){let y=typeof f=="string"?Qd(f):n("Git.addTag requires a tag name");return this._runTask(y,g(arguments))},v.prototype.addAnnotatedTag=function(f,y){return this._runTask(Wd(f,y),g(arguments))},v.prototype.deleteLocalBranch=function(f,y,S){return this._runTask(Oe(f,typeof y=="boolean"?y:!1),g(arguments))},v.prototype.deleteLocalBranches=function(f,y,S){return this._runTask(ie(f,typeof y=="boolean"?y:!1),g(arguments))},v.prototype.branch=function(f,y){return this._runTask(O(p(arguments)),g(arguments))},v.prototype.branchLocal=function(f){return this._runTask(A(),g(arguments))},v.prototype.raw=function(f){let y=!Array.isArray(f),S=[].slice.call(y?arguments:f,0);for(let de=0;de<S.length&&y;de++)if(!u(S[de])){S.splice(de,S.length-de);break}S.push(...p(arguments,0,!0));var Q=g(arguments);return S.length?this._runTask(be(S,this._trimmed),Q):this._runTask(n("Raw: must supply one or more command to execute"),Q)},v.prototype.submoduleAdd=function(f,y,S){return this._runTask(Yd(f,y),g(arguments))},v.prototype.submoduleUpdate=function(f,y){return this._runTask(Jd(p(arguments,!0)),g(arguments))},v.prototype.submoduleInit=function(f,y){return this._runTask(Vd(p(arguments,!0)),g(arguments))},v.prototype.subModule=function(f,y){return this._runTask(zd(p(arguments)),g(arguments))},v.prototype.listRemote=function(){return this._runTask(Ld(p(arguments)),g(arguments))},v.prototype.addRemote=function(f,y,S){return this._runTask(Dd(f,y,p(arguments)),g(arguments))},v.prototype.removeRemote=function(f,y){return this._runTask(Nd(f),g(arguments))},v.prototype.getRemotes=function(f,y){return this._runTask(jd(f===!0),g(arguments))},v.prototype.remote=function(f,y){return this._runTask(Bd(p(arguments)),g(arguments))},v.prototype.tag=function(f,y){let S=p(arguments);return S[0]!=="tag"&&S.unshift("tag"),this._runTask(be(S),g(arguments))},v.prototype.updateServerInfo=function(f){return this._runTask(be(["update-server-info"]),g(arguments))},v.prototype.pushTags=function(f,y){let S=Fd({remote:l(f,c)},p(arguments));return this._runTask(S,g(arguments))},v.prototype.rm=function(f){return this._runTask(be(["rm","-f",...o(f)]),g(arguments))},v.prototype.rmKeepLocal=function(f){return this._runTask(be(["rm","--cached",...o(f)]),g(arguments))},v.prototype.catFile=function(f,y){return this._catFile("utf-8",arguments)},v.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},v.prototype._catFile=function(f,y){var S=g(y),Q=["cat-file"],de=y[0];if(typeof de=="string")return this._runTask(n("Git.catFile: options must be supplied as an array of strings"),S);Array.isArray(de)&&Q.push.apply(Q,de);let Wr=f==="buffer"?Xd(Q):be(Q);return this._runTask(Wr,S)},v.prototype.diff=function(f,y){let S=c(f)?n("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):be(["diff",...p(arguments)]);return this._runTask(S,g(arguments))},v.prototype.diffSummary=function(){return this._runTask(De(p(arguments,1)),g(arguments))},v.prototype.applyPatch=function(f){let y=h(f)?U(o(f),p([].slice.call(arguments,1))):n("git.applyPatch requires one or more string patches as the first argument");return this._runTask(y,g(arguments))},v.prototype.revparse=function(){let f=["rev-parse",...p(arguments,!0)];return this._runTask(be(f,!0),g(arguments))},v.prototype.clean=function(f,y,S){let Q=Me(f),de=Q&&f.join("")||l(f,c)||"",Wr=p([].slice.call(arguments,Q?1:0));return this._runTask(z(de,Wr),g(arguments))},v.prototype.exec=function(f){let y={commands:[],format:"utf-8",parser(){typeof f=="function"&&f()}};return this._runTask(y)},v.prototype.clearQueue=function(){return this},v.prototype.checkIgnore=function(f,y){return this._runTask(Ve(o(l(f,h,[]))),g(arguments))},v.prototype.checkIsRepo=function(f,y){return this._runTask(Jr(l(f,c)),g(arguments))},e.exports=v}});Dr();Ye();var rv=class extends Fe{constructor(t,e){super(void 0,e),this.config=t}};Ye();Ye();var Ke=class extends Fe{constructor(t,e,r){super(t,r),this.task=t,this.plugin=e,Object.setPrototypeOf(this,new.target.prototype)}};vt();Cl();Hl();th();ih();ah();hh();function sv(t){return t?[{type:"spawn.before",action(s,i){t.aborted&&i.kill(new Ke(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(s,i){function n(){i.kill(new Ke(void 0,"abort","Abort signal received"))}t.addEventListener("abort",n),i.spawned.on("close",()=>t.removeEventListener("abort",n))}}]:void 0}function iv(t){return typeof t=="string"&&t.trim().toLowerCase()==="-c"}function nv(t,e){if(iv(t)&&/^\s*protocol(.[a-z]+)?.allow/.test(e))throw new Ke(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function ov(t,e){if(/^\s*--(upload|receive)-pack/.test(t))throw new Ke(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(e==="clone"&&/^\s*-u\b/.test(t))throw new Ke(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(e==="push"&&/^\s*--exec\b/.test(t))throw new Ke(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function av({allowUnsafeProtocolOverride:t=!1,allowUnsafePack:e=!1}={}){return{type:"spawn.args",action(r,s){return r.forEach((i,n)=>{let o=n<r.length?r[n+1]:"";t||nv(i,o),e||ov(i,s.method)}),r}}}w();function uv(t){let e=Bt(t,"-c");return{type:"spawn.args",action(r){return[...e,...r]}}}w();var xl=(0,bt.deferred)().promise;function cv({onClose:t=!0,onExit:e=50}={}){function r(){let i=-1,n={close:(0,bt.deferred)(),closeTimeout:(0,bt.deferred)(),exit:(0,bt.deferred)(),exitTimeout:(0,bt.deferred)()},o=Promise.race([t===!1?xl:n.closeTimeout.promise,e===!1?xl:n.exitTimeout.promise]);return s(t,n.close,n.closeTimeout),s(e,n.exit,n.exitTimeout),{close(a){i=a,n.close.done()},exit(a){i=a,n.exit.done()},get exitCode(){return i},result:o}}function s(i,n,o){i!==!1&&(i===!0?n.promise:n.promise.then(()=>Oi(i))).then(o.done)}return{type:"spawn.after",action(i,n){return jt(this,arguments,function*(o,{spawned:a,close:u}){var c,h;let l=r(),p=!0,g=()=>void(p=!1);(c=a.stdout)==null||c.on("data",g),(h=a.stderr)==null||h.on("data",g),a.on("error",g),a.on("close",G=>l.close(G)),a.on("exit",G=>l.exit(G));try{yield l.result,p&&(yield Oi(50)),u(l.exitCode)}catch(G){u(l.exitCode,G)}})}}}Ye();function lv(t){return!!(t.exitCode&&t.stdErr.length)}function hv(t){return Buffer.concat([...t.stdOut,...t.stdErr])}function dv(t=!1,e=lv,r=hv){return(s,i)=>!t&&s||!e(i)?s:r(i)}function _l(t){return{type:"task.error",action(e,r){let s=t(e.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});return Buffer.isBuffer(s)?{error:new Fe(void 0,s.toString("utf-8"))}:{error:s}}}}w();var fv=class{constructor(){this.plugins=new Set}add(t){let e=[];return He(t).forEach(r=>r&&this.plugins.add(x(e,r))),()=>{e.forEach(r=>this.plugins.delete(r))}}exec(t,e,r){let s=e,i=Object.freeze(Object.create(r));for(let n of this.plugins)n.type===t&&(s=n.action(s,i));return s}};w();function pv(t){let e="--progress",r=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(n,o){return r.includes(o.method)?$l(n,e):n}},{type:"spawn.after",action(n,o){var a;o.commands.includes(e)&&((a=o.spawned.stderr)==null||a.on("data",u=>{let c=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(u.toString("utf8"));c&&t({method:o.method,stage:mv(c[1]),progress:M(c[2]),processed:M(c[3]),total:M(c[4])})}))}}]}function mv(t){return String(t.toLowerCase().split(" ",1))||"unknown"}w();function gv(t){let e=Il(t,["uid","gid"]);return{type:"spawn.options",action(r){return he(he({},e),r)}}}function bv({block:t,stdErr:e=!0,stdOut:r=!0}){if(t>0)return{type:"spawn.after",action(s,i){var n,o;let a;function u(){a&&clearTimeout(a),a=setTimeout(h,t)}function c(){var l,p;(l=i.spawned.stdout)==null||l.off("data",u),(p=i.spawned.stderr)==null||p.off("data",u),i.spawned.off("exit",c),i.spawned.off("close",c),a&&clearTimeout(a)}function h(){c(),i.kill(new Ke(void 0,"timeout","block timeout reached"))}r&&((n=i.spawned.stdout)==null||n.on("data",u)),e&&((o=i.spawned.stderr)==null||o.on("data",u)),i.spawned.on("exit",c),i.spawned.on("close",c),u()}}}Dr();function yv(){return{type:"spawn.args",action(t){let e=[],r;function s(i){(r=r||[]).push(...i)}for(let i=0;i<t.length;i++){let n=t[i];if($r(n)){s(Wc(n));continue}if(n==="--"){s(t.slice(i+1).flatMap(o=>$r(o)&&Wc(o)||o));break}e.push(n)}return r?[...e,"--",...r.map(String)]:e}}}w();var vv=tv();function wv(t,e){let r=new fv,s=jl(t&&(typeof t=="string"?{baseDir:t}:t)||{},e);if(!Gi(s.baseDir))throw new rv(s,"Cannot use simple-git on a directory that does not exist");return Array.isArray(s.config)&&r.add(uv(s.config)),r.add(av(s.unsafe)),r.add(yv()),r.add(cv(s.completion)),s.abort&&r.add(sv(s.abort)),s.progress&&r.add(pv(s.progress)),s.timeout&&r.add(bv(s.timeout)),s.spawnOptions&&r.add(gv(s.spawnOptions)),r.add(_l(dv(!0))),s.errors&&r.add(_l(s.errors)),new vv(s,r)}vt();var kd=wv;function xd(t,...e){return new Promise(r=>{let s=(i,n)=>{i&&(console.error(i),se("Something went wrong with git.")),r(n)};t.raw(e,s)})}async function W(t,e,r){try{return await kv(t,e,r)}catch(s){return se("Something went wrong with git - check output for more details."),String(s)}}function L(t){let e=(0,_d.default)(t||process.cwd());if(!e.root)return;let r=kd(e.root),s=()=>W(e.root,"git add ."),i=_=>W(e.root,`git commit -m "${_}" --no-verify`),n=async(_,V)=>{await W(e.root,`git commit -am "${_}" -m "${V}" --no-verify`)},o=async(_,V,z,Me,De)=>{let kt=`git commit -am "${_}(${V}): ${z}" -m "${Me}"`;De&&(kt+=` -m "BREAKING CHANGE: ${De}"`),await W(e.root,kt)},a=async(_,V,z,Me)=>{ge("Updating Ticket Info...");let De=`git commit --amend -am "${_}" -m "${V}"`;z&&(De+=` -m "BREAKING CHANGE: ${z}"`),(await W(e.root,De)).includes("scope must be one")?se("Failed to amend commit. Check above for more details."):K("Ticket Details Amended.",!0)},u=_=>W(e.root,`git push --set-upstream origin ${_||e.branch} -f --no-verify`),c=_=>W(e.root,`git push --set-upstream origin ${_||e.branch} -f`),h=()=>W(e.root,"git reset --hard HEAD"),l=async()=>!(await xd(r,"status")).includes("nothing to commit, working tree clean"),p=async()=>(0,Vr.execSync)("{ git diff --name-only ; git diff --name-only --staged ; } | sort | uniq").toString().split(`
`),g=_=>W(e.root,`git checkout -b "${_}"`),G=()=>W(e.root,"git fetch"),U=async()=>await xd(r,"rev-parse","--abbrev-ref","HEAD"),O=async(_,V,z)=>{await Oe(_),await a(_,V,z)},A=async _=>{await W(e.root,`git checkout ${_}`)},ie=async()=>{await W(e.root,"git pull")},Oe=async _=>{ge("Rebasing...");let V=wt.default.join(__dirname,"./lib/core/rebaseScript.sh"),z=wt.default.join(__dirname,"./lib/core/jit-name-file.txt");(0,Se.existsSync)(z)&&(0,Se.rmSync)(z),(0,Se.writeFileSync)(z,_),(await W(e.root,`git fetch && GIT_SEQUENCE_EDITOR="${V}" git rebase -i origin/master`)).includes("Successfully rebased and updated")?K("Rebase Complete.",!0):(se("Rebase Failed. Check above (you probably have some conflicts)",!0),ge("If you have conflicts quickly go resolve them, then continue when ready :)"),H("Do you want to continue with the rebase?")&&await W(e.root,`GIT_SEQUENCE_EDITOR="${V}" git rebase --continue`))};return{amendCommit:a,autoRebase:O,branchName:U,bringCommitBackToStaging:async()=>{await W(e.root,"git reset --soft HEAD^1")},changedFiles:p,checkout:A,clean:h,createBranch:g,fetch:G,findLastCommitDetails:async()=>{let _=(await W(e.root,"git log -1 | sed",!0)).split(`
`).map(Me=>Me.trim()).filter(Boolean),V=_.pop().trim();return{commitMessage:_.slice(3).join(`
`),ticket:V}},fullCommit:o,fullPush:c,hasOutStandingChanges:l,pull:ie,quickCommit:i,quickPush:u,rebase:Oe,retroCommit:n,root:e.root,stage:s}}function kv(t,e,r){return new Promise((s,i)=>{let n=(0,Vr.spawn)(e,{cwd:t,shell:!0,stdio:["inherit","pipe","pipe"]}),o="";n.stdout.on("data",a=>{o=o+a.toString(),r||process.stdout.write(a)}),n.stderr.on("data",a=>{o=o+a.toString(),r||process.stderr.write(a)}),n.on("close",()=>s(o)),n.on("disconnect",()=>s(o)),n.on("exit",a=>s(a===1?`error:${a}:${o}`:o)),n.on("error",a=>i(`error:${a.message}`))})}var zr=async()=>{let e=await L().changedFiles();return[...xv(e),"repo"]},Td=()=>{let e=L().root.split(/[\\/]/);return e[e.length-1]},xv=t=>{let e=new Set(t.map(r=>_v(r)));return Array.from(e).filter(Boolean).map(r=>{let s=r.split("/");return s.length===1?s[0]:s[1]})},_v=t=>{let e="",r=wt.default.dirname(t),s=0,i=35;for(;!e&&s<i&&(0,Se.existsSync)(r);){let o=wt.default.join(r,"package.json");(0,Se.existsSync)(o)?e=JSON.parse((0,Se.readFileSync)(o).toString()).name:r=wt.default.join(r,"../"),s++}return e};var Ce=fe(Tt()),Tv=({title:t,message:e,color:r=Ce.default.magentaBright})=>{let s=e.split(`
`);t&&s.unshift(t);let i=Math.max(...s.map(u=>u.length)),n=4,o="#",a="";s.forEach((u,c)=>{let h=Math.round((i-u.length)/2),l=(i-u.length)%2===0?h:h-1,p=c===0;a+=o+Array(n+h).fill(" ").join("")+(p?Ce.default.bold(u):u)+Array(n+l).fill(" ").join("")+o+`
`}),console.log(r(a))};async function Sd(){process.stdout.cursorTo(0,0),process.stdout.clearScreenDown();let t=L();t||se("Could not find a git repo.");let e=(await t.branchName()).trim(),r=["master","main","trunk"].includes(e);Tv({color:Ce.default.green,message:`${Td()} @ ${e} ${r?"\u{1F333}":"\u{1FAB5}"}`,title:`\u{1F920} Jit (${pn}) \u{1F389}`})}function K(t,e){console.log(Ce.default.greenBright(`${Ce.default.bold("[OK]")} ${t}`)),e||process.exit(0)}function se(t,e){console.log(Ce.default.redBright(`${Ce.default.bold("[BAD]")} ${t}`)),e||process.exit(1)}function ge(t){console.log(Ce.default.blueBright(`${Ce.default.bold("[INFO]")} ${t}`))}var Cd=async()=>{let t=L();await t.hasOutStandingChanges()&&(await H("You have un\u2013committed changes, quickly push them to continue with rebase?")?(await t.stage(),ge("All outstanding changes have been staged."),await t.quickCommit("Jit - Changes Temp Commit")):process.exit(0));let e=await t.findLastCommitDetails(),r=e.commitMessage,s=e.ticket;if(!e.commitMessage||!e.ticket){let i=await br(),n=await zr(),{commitMessage:o,packageJson:a,jiraTicket:u}=await le([vr(),yr(n),lt()]);(!i||!a||!o||!u)&&process.exit(1),r=`${i}(${a}): ${o}`}await t.autoRebase(r,s),await H("Do you also want to force push?")?(await t.fullPush(),K("Done")):ge("Force push commit with: git push -f")};var Od=async()=>{let t=L();await t.hasOutStandingChanges()&&(await H("Do you want to try and keep your outstanding changes?",!0)||await t.clean());try{await t.checkout("master")}catch{await t.checkout("main")}await t.pull(),K("Done",!0)};var Md=async()=>{let t=L();["master","main","trunk"].includes((await t.branchName()).trim())&&se("You are currently the main branch - please create a new branch first!"),await t.hasOutStandingChanges()||se("You don't have any outstanding changes to commit."),await t.stage(),ge("All outstanding changes have been staged.");let e=await br(),r=await zr(),{packageJson:s,jiraTicket:i,commitMessage:n,breakingChanges:o}=await le([yr(r),vr(),lt(),Pc()]);(!e||!s||!n||!i)&&process.exit(1),await t.fullCommit(e,s,n,i,o),await H("Do you also want to push?")&&await t.fullPush(),K("Done")};var Ed=fe(Tt()),Pd=async()=>{let t=L();await t.hasOutStandingChanges()&&(await H("Do you want to keep your outstanding changes?",!0)||await t.clean());let{commitType:e,branchName:r}=await le([gi(),Rc()]);(!e||!r)&&process.exit(1);let s=`${e}/${r}`;await t.createBranch(s),K(`Branch "${Ed.default.bold(s)}" created.`,!0)};var Rd=async()=>{let t=L();await t.hasOutStandingChanges()||se("You don't have any outstanding changes to commit."),await t.stage(),ge("All outstanding changes have been staged.");let{commitMessage:e}=await le([lt()]);e||process.exit(1),await t.quickCommit(e),await H("Do you also want to push?")&&await t.quickPush(),K("Done")};var $d=async()=>{let t=L();await t.hasOutStandingChanges()||se("You don't have any outstanding changes to commit.");let e=await t.findLastCommitDetails();(!e.commitMessage||!e.ticket)&&se("Your last commit was not a formatted one so you can't retro commit."),await t.bringCommitBackToStaging(),await t.stage(),await t.retroCommit(e.commitMessage,e.ticket),await H("Do you also want to push?")&&await t.quickPush(),K("Done")};var hn=fe(Tt());async function Ad(){await Sd();let{developmentStage:t}=await le([Ec()]);switch(t){case"commitQuick":await Rd();break;case"commitFull":await Md();break;case"commitRetro":await $d();break;case"squash":await Cd();break;case"branchNew":await Pd();break;case"checkoutMaster":await Od();break;case"shareJit":console.log(`
Install -> ${hn.default.bgBlack(hn.default.greenBright(" npm install -g --save https://github.com/haydncomley/clearscore-jit/tarball/master "))}
`);break;case"test":console.log("ECHO ECHO ecHO echO echo...");break}await H("Jit Again?",!0)&&Ad()}Ad();
